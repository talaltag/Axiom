exports.id=7822,exports.ids=[7822],exports.modules={69303:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var a=s(20997);s(16689);var n=s(36981);let r=({fullscreen:e})=>e?a.jsx("div",{className:"position-fixed top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center bg-white bg-opacity-75",style:{zIndex:1050},children:a.jsx(n.Spinner,{color:"warning",style:{width:"3rem",height:"3rem"},children:"Loading..."})}):a.jsx(n.Spinner,{color:"warning",size:"sm",className:"ms-2",children:"Loading..."})},80717:(e,t,s)=>{"use strict";s.d(t,{Z:()=>h});var a=s(20997),n=s(16689),r=s(36981),i=s(99101),o=s(41664),l=s.n(o),d=s(25675),c=s.n(d);function h(e){let{role:t}=e,[s,o]=(0,n.useState)([]),[d,h]=(0,n.useState)(0);return(0,a.jsxs)(r.UncontrolledDropdown,{children:[(0,a.jsxs)(r.DropdownToggle,{nav:!0,className:"position-relative",children:[a.jsx(i.Bell,{size:20}),d>0&&a.jsx(r.Badge,{color:"danger",pill:!0,className:"position-absolute",style:{top:"-5px",right:"-5px"},children:d})]}),(0,a.jsxs)(r.DropdownMenu,{end:!0,className:"notification-dropdown p-0",style:{width:"320px",maxHeight:"400px"},children:[(0,a.jsxs)("div",{className:"p-2 border-bottom d-flex justify-content-between align-items-center",children:[a.jsx("h6",{className:"mb-0",children:"Notifications"}),a.jsx(l(),{href:t?`/${t}/notifications`:"/user/notifications",className:"text-muted small",children:"View All"})]}),a.jsx("div",{style:{maxHeight:"300px",overflowY:"auto"},children:0===s.length?a.jsx(r.DropdownItem,{text:!0,children:"No notifications"}):s.slice(0,5).map(e=>a.jsx(r.DropdownItem,{className:"border-bottom",children:(0,a.jsxs)("div",{className:"d-flex align-items-center",children:[a.jsx(c(),{src:"/user1.png",alt:"User",width:40,height:40,className:"rounded-circle me-2"}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"fw-bold",children:e.title}),a.jsx("small",{className:"text-muted",children:new Date(e.createdAt).toLocaleString()})]})]})},e._id))})]})]})}},83419:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.d(t,{Z:()=>f});var n=s(20997),r=s(16689),i=s(36981),o=s(11163),l=s(43291),d=s(50902),c=s(25675),h=s.n(c),x=s(99101),p=s(41664),m=s.n(p),u=s(80717),g=s(41649),j=e([l,d]);function f({children:e}){let t=(0,o.useRouter)(),s=(0,l.useDispatch)(),[a,c]=(0,r.useState)(!0),p=(0,g.useSession)(),j=[{text:"Dashboard",path:"/user/dashboard",icon:n.jsx(x.Grid,{size:18})},{text:"Tournaments",path:"/user/dashboard/tournaments",icon:n.jsx(x.Award,{size:18})},{text:"Friends",path:"/user/friends",icon:n.jsx(x.Users,{size:18})},{text:"Statistics",path:"/user/statistics",icon:n.jsx(x.BarChart2,{size:18})},{text:"Wallet",path:"/user/wallet",icon:n.jsx(x.DollarSign,{size:18})},{text:"Chat",path:"/chat",icon:n.jsx(x.MessageSquare,{size:18})},{text:"Settings",path:"/user/settings",icon:n.jsx(x.Settings,{size:18})}];return(0,n.jsxs)("div",{className:"d-flex",children:[(0,n.jsxs)(i.Nav,{vertical:!0,className:`bg-white border-end sidebar ${a?"open":""}`,style:{width:a?"240px":"64px",height:"100vh",position:"fixed",left:0,top:0,zIndex:1030,transition:"all 0.3s ease-in-out"},children:[n.jsx("div",{className:"p-3 d-flex align-items-center mb-2",children:(0,n.jsxs)("div",{className:"d-flex w-100 align-items-center justify-content-between",children:[a&&n.jsx(h(),{src:"/axiom-logo.png",alt:"Axiom",width:70,height:45}),n.jsx(i.Button,{className:"p-0",color:"initial",onClick:()=>c(!a),children:n.jsx(x.ChevronsLeft,{size:24,style:{transform:a?"rotate(0deg)":"rotate(180deg)",transition:"transform 0.3s ease-in-out"}})})]})}),j.map(e=>n.jsx(i.NavItem,{children:(0,n.jsxs)(m(),{href:e.path,className:`d-flex align-items-center mb-2 px-3 py-2 ${t.pathname===e.path?"bg-warning text-dark":"text-muted"}`,style:{textDecoration:"none"},children:[e.icon,a&&n.jsx("span",{className:"ms-2",children:e.text})]})},e.text))]}),(0,n.jsxs)("div",{style:{marginLeft:a?"240px":"64px",transition:"margin-left 0.3s ease-in-out",width:"100%"},children:[n.jsx(i.Navbar,{className:"bg-white border-bottom px-4",container:!1,children:n.jsx(i.Nav,{className:"ms-auto d-flex align-items-center",navbar:!0,children:(0,n.jsxs)("div",{className:"d-flex align-items-center me-3",children:[n.jsx(u.Z,{})," ",(0,n.jsxs)(i.UncontrolledDropdown,{inNavbar:!0,nav:!0,className:"ms-3",children:[(0,n.jsxs)(i.DropdownToggle,{nav:!0,children:[n.jsx(h(),{src:p.data?.user.profileImage??"/profile-avatar.png",alt:p.data?.user?.name,width:32,height:32,className:"rounded-circle me-2"}),p.data?.user?.name," ",n.jsx(x.ChevronDown,{size:16})]}),n.jsx(i.DropdownMenu,{end:!0,className:"position-absolute",children:(0,n.jsxs)(i.DropdownItem,{onClick:()=>{s((0,d.kS)()),(0,g.signOut)({redirect:!1}).then(()=>t.push("/auth/login"))},children:[n.jsx(x.LogOut,{size:14,className:"me-2"}),"Logout"]})})]})]})})}),n.jsx("main",{className:"p-4",children:e})]})]})}[l,d]=j.then?(await j)():j,a()}catch(e){a(e)}})},15286:(e,t,s)=>{"use strict";s.d(t,{Z:()=>c});var a=s(20997),n=s(41649),r=s(36981),i=s(16689),o=s(69303),l=s(41664),d=s.n(l);let c=({setTournaments:e})=>{let t=(0,n.useSession)(),[s,l]=(0,i.useState)(!1),[c,h]=(0,i.useState)(null),[x,p]=(0,i.useState)([]);return((0,i.useEffect)(()=>{let s=async()=>{try{l(!0);let t=await fetch("/api/tournaments/history");if(!t.ok){let e=await t.json();throw Error(e.message||"Failed to fetch tournaments")}let s=await t.json();if(s.success)p(s.data),e&&e(s);else throw Error(s.message||"An unexpected error occurred")}catch(e){console.error("Error fetching tournaments:",e),h(e.message)}finally{l(!1)}};t?.data?.user?.id&&s()},[t]),s)?a.jsx("div",{className:"m-3",children:a.jsx(o.Z,{})}):a.jsx(a.Fragment,{children:(0,a.jsxs)(r.Table,{borderless:!0,style:{marginBottom:"20px"},children:[a.jsx("thead",{children:(0,a.jsxs)("tr",{style:{borderBottom:"1px solid #EAECF0"},children:[a.jsx("th",{style:{color:"#667085",fontSize:"12px",fontWeight:500,padding:"12px 24px"},children:"Tournament"}),a.jsx("th",{style:{color:"#667085",fontSize:"12px",fontWeight:500,padding:"12px 24px"},children:"Placement"}),a.jsx("th",{style:{color:"#667085",fontSize:"12px",fontWeight:500,padding:"12px 24px"},children:"Rewards"}),a.jsx("th",{style:{color:"#667085",fontSize:"12px",fontWeight:500,padding:"12px 24px",textAlign:"right",paddingRight:"73px"},children:"Status"})]})}),a.jsx("tbody",{children:x.map((e,t)=>(0,a.jsxs)("tr",{className:`${"Ongoing"===e.status?"bg-light-red":"bg-white"} hover-row`,style:{borderBottom:"1px solid #EAECF0",cursor:"pointer"},children:[a.jsx("td",{style:{color:"#101828",fontSize:"14px",padding:"16px 24px"},children:a.jsx(d(),{href:`/user/dashboard/confirm/${e._id}`,children:e.tournament.name})}),a.jsx("td",{style:{color:"#101828",fontSize:"14px",padding:"16px 24px"},children:e.tournament.platform}),(0,a.jsxs)("td",{style:{color:"#101828",fontSize:"14px",padding:"16px 24px",width:"15%"},children:["$",e.tournament.totalPrizePool]}),a.jsx("td",{style:{padding:"16px 24px",textAlign:"right"},children:a.jsx("span",{style:{padding:"2px 8px",borderRadius:"16px",fontSize:"12px",fontWeight:500,backgroundColor:"completed"==e.tournament.status?"#ECFDF3":"#FEF3F2",color:"completed"==e.tournament.status?"#027A48":"#B42318"},children:"completed"==e.tournament.status?"✓ Completed":"ongoing"==e.tournament.status?"• Ongoing":"Registration Open"})})]},t))})]})})}},6814:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.r(t),s.d(t,{default:()=>h});var n=s(20997);s(86764),s(89090);var r=s(43291),i=s(7120),o=s(38890),l=s.n(o),d=s(41649),c=e([r,i]);[r,i]=c.then?(await c)():c;let h=function({Component:e,pageProps:{session:t,...s}}){return n.jsx(d.SessionProvider,{session:t,children:(0,n.jsxs)(r.Provider,{store:i.h,children:[n.jsx(l(),{options:{showSpinner:!1},color:"#F8CA15",height:4}),n.jsx(e,{...s})]})})};a()}catch(e){a(e)}})},50902:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.d(t,{ZP:()=>c,kS:()=>d});var n=s(73258),r=e([n]);n=(r.then?(await r)():r)[0];let i=(0,n.createAsyncThunk)("auth/login",async e=>{let t=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),s=await t.json();if(!t.ok)throw Error(s.message);return localStorage.setItem("token",s.token),s}),o=(0,n.createAsyncThunk)("auth/fetchUser",async()=>{let e=await fetch("/api/auth/me",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),t=await e.json();if(!e.ok)throw Error(t.message);return t}),l=(0,n.createSlice)({name:"auth",initialState:{token:null,user:null,isLoading:!1,error:null},reducers:{logout:e=>{e.token=null,e.user=null,localStorage.removeItem("token"),localStorage.removeItem("user")}},extraReducers:e=>{e.addCase(i.pending,e=>{e.isLoading=!0,e.error=null}).addCase(i.fulfilled,(e,t)=>{e.isLoading=!1,e.token=t.payload.token,e.user=t.payload.user}).addCase(i.rejected,(e,t)=>{e.isLoading=!1,e.error=t.error.message||"Login failed"}).addCase(o.fulfilled,(e,t)=>{e.user=t.payload})}}),{logout:d}=l.actions,c=l.reducer;a()}catch(e){a(e)}})},7120:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.d(t,{h:()=>o});var n=s(73258),r=s(50902),i=e([n,r]);[n,r]=i.then?(await i)():i;let o=(0,n.configureStore)({reducer:{auth:r.ZP}});a()}catch(e){a(e)}})},86764:()=>{}};
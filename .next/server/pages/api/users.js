"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/users";
exports.ids = ["pages/api/users"];
exports.modules = {

/***/ "bcryptjs":
/*!***************************!*\
  !*** external "bcryptjs" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("bcryptjs");

/***/ }),

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("mongoose");

/***/ }),

/***/ "next-auth/jwt":
/*!********************************!*\
  !*** external "next-auth/jwt" ***!
  \********************************/
/***/ ((module) => {

module.exports = require("next-auth/jwt");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fusers&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cusers%5Cindex.ts&middlewareConfigBase64=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fusers&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cusers%5Cindex.ts&middlewareConfigBase64=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_users_index_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\users\\index.ts */ \"(api)/./pages/api/users/index.ts\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_users_index_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_users_index_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/users\",\n        pathname: \"/api/users\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_users_index_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRnVzZXJzJnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGcGFnZXMlNUNhcGklNUN1c2VycyU1Q2luZGV4LnRzJm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNMO0FBQzFEO0FBQzBEO0FBQzFEO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQyxzREFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyxlQUFlLHdFQUFLLENBQUMsc0RBQVE7QUFDcEM7QUFDTyx3QkFBd0IsZ0hBQW1CO0FBQ2xEO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktYXBwLz8xODA2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhZ2VzQVBJUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9wYWdlcy1hcGkvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgaG9pc3QgfSBmcm9tIFwibmV4dC9kaXN0L2J1aWxkL3RlbXBsYXRlcy9oZWxwZXJzXCI7XG4vLyBJbXBvcnQgdGhlIHVzZXJsYW5kIGNvZGUuXG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiLi9wYWdlc1xcXFxhcGlcXFxcdXNlcnNcXFxcaW5kZXgudHNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgXCJkZWZhdWx0XCIpO1xuLy8gUmUtZXhwb3J0IGNvbmZpZy5cbmV4cG9ydCBjb25zdCBjb25maWcgPSBob2lzdCh1c2VybGFuZCwgXCJjb25maWdcIik7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS91c2Vyc1wiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3VzZXJzXCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogXCJcIixcbiAgICAgICAgZmlsZW5hbWU6IFwiXCJcbiAgICB9LFxuICAgIHVzZXJsYW5kXG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMtYXBpLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fusers&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cusers%5Cindex.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./lib/dbConnect.ts":
/*!**************************!*\
  !*** ./lib/dbConnect.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst MONGODB_URI = \"mongodb+srv://nolantapps:oCOt2NNcEQKUZcuj@impacto-cluster.s20zbjj.mongodb.net/axiom?retryWrites=true&w=majority\";\nif (!MONGODB_URI) {\n    throw new Error(\"Please define the MONGODB_URI environment variable inside .env.local\");\n}\nlet cached = global.mongoose;\nif (!cached) {\n    cached = global.mongoose = {\n        conn: null,\n        promise: null\n    };\n}\nasync function dbConnect() {\n    if (cached.conn) {\n        return cached.conn;\n    }\n    if (!cached.promise) {\n        const opts = {\n            bufferCommands: true,\n            serverSelectionTimeoutMS: 30000\n        };\n        cached.promise = mongoose__WEBPACK_IMPORTED_MODULE_0___default().connect(MONGODB_URI, opts);\n    }\n    try {\n        cached.conn = await cached.promise;\n        console.log(\"MongoDB Connected Successfully\");\n        return cached.conn;\n    } catch (error) {\n        cached.promise = null;\n        console.error(\"MongoDB Connection Error:\", error);\n        throw error;\n    }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (dbConnect);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvZGJDb25uZWN0LnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFnQztBQUVoQyxNQUFNQyxjQUNKO0FBRUYsSUFBSSxDQUFDQSxhQUFhO0lBQ2hCLE1BQU0sSUFBSUMsTUFDUjtBQUVKO0FBRUEsSUFBSUMsU0FBU0MsT0FBT0osUUFBUTtBQUU1QixJQUFJLENBQUNHLFFBQVE7SUFDWEEsU0FBU0MsT0FBT0osUUFBUSxHQUFHO1FBQUVLLE1BQU07UUFBTUMsU0FBUztJQUFLO0FBQ3pEO0FBRUEsZUFBZUM7SUFDYixJQUFJSixPQUFPRSxJQUFJLEVBQUU7UUFDZixPQUFPRixPQUFPRSxJQUFJO0lBQ3BCO0lBRUEsSUFBSSxDQUFDRixPQUFPRyxPQUFPLEVBQUU7UUFDbkIsTUFBTUUsT0FBTztZQUNYQyxnQkFBZ0I7WUFDaEJDLDBCQUEwQjtRQUM1QjtRQUVBUCxPQUFPRyxPQUFPLEdBQUdOLHVEQUFnQixDQUFDQyxhQUFhTztJQUNqRDtJQUVBLElBQUk7UUFDRkwsT0FBT0UsSUFBSSxHQUFHLE1BQU1GLE9BQU9HLE9BQU87UUFDbENNLFFBQVFDLEdBQUcsQ0FBQztRQUNaLE9BQU9WLE9BQU9FLElBQUk7SUFDcEIsRUFBRSxPQUFPUyxPQUFPO1FBQ2RYLE9BQU9HLE9BQU8sR0FBRztRQUNqQk0sUUFBUUUsS0FBSyxDQUFDLDZCQUE2QkE7UUFDM0MsTUFBTUE7SUFDUjtBQUNGO0FBRUEsaUVBQWVQLFNBQVNBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS1hcHAvLi9saWIvZGJDb25uZWN0LnRzP2M4ODMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gXCJtb25nb29zZVwiO1xyXG5cclxuY29uc3QgTU9OR09EQl9VUkkgPVxyXG4gIFwibW9uZ29kYitzcnY6Ly9ub2xhbnRhcHBzOm9DT3QyTk5jRVFLVVpjdWpAaW1wYWN0by1jbHVzdGVyLnMyMHpiamoubW9uZ29kYi5uZXQvYXhpb20/cmV0cnlXcml0ZXM9dHJ1ZSZ3PW1ham9yaXR5XCI7XHJcblxyXG5pZiAoIU1PTkdPREJfVVJJKSB7XHJcbiAgdGhyb3cgbmV3IEVycm9yKFxyXG4gICAgXCJQbGVhc2UgZGVmaW5lIHRoZSBNT05HT0RCX1VSSSBlbnZpcm9ubWVudCB2YXJpYWJsZSBpbnNpZGUgLmVudi5sb2NhbFwiXHJcbiAgKTtcclxufVxyXG5cclxubGV0IGNhY2hlZCA9IGdsb2JhbC5tb25nb29zZTtcclxuXHJcbmlmICghY2FjaGVkKSB7XHJcbiAgY2FjaGVkID0gZ2xvYmFsLm1vbmdvb3NlID0geyBjb25uOiBudWxsLCBwcm9taXNlOiBudWxsIH07XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGRiQ29ubmVjdCgpIHtcclxuICBpZiAoY2FjaGVkLmNvbm4pIHtcclxuICAgIHJldHVybiBjYWNoZWQuY29ubjtcclxuICB9XHJcblxyXG4gIGlmICghY2FjaGVkLnByb21pc2UpIHtcclxuICAgIGNvbnN0IG9wdHMgPSB7XHJcbiAgICAgIGJ1ZmZlckNvbW1hbmRzOiB0cnVlLCAvLyBDaGFuZ2VkIHRvIHRydWUgdG8gYWxsb3cgYnVmZmVyaW5nXHJcbiAgICAgIHNlcnZlclNlbGVjdGlvblRpbWVvdXRNUzogMzAwMDAsXHJcbiAgICB9O1xyXG5cclxuICAgIGNhY2hlZC5wcm9taXNlID0gbW9uZ29vc2UuY29ubmVjdChNT05HT0RCX1VSSSwgb3B0cyk7XHJcbiAgfVxyXG5cclxuICB0cnkge1xyXG4gICAgY2FjaGVkLmNvbm4gPSBhd2FpdCBjYWNoZWQucHJvbWlzZTtcclxuICAgIGNvbnNvbGUubG9nKFwiTW9uZ29EQiBDb25uZWN0ZWQgU3VjY2Vzc2Z1bGx5XCIpO1xyXG4gICAgcmV0dXJuIGNhY2hlZC5jb25uO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjYWNoZWQucHJvbWlzZSA9IG51bGw7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiTW9uZ29EQiBDb25uZWN0aW9uIEVycm9yOlwiLCBlcnJvcik7XHJcbiAgICB0aHJvdyBlcnJvcjtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGRiQ29ubmVjdDtcclxuIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwiTU9OR09EQl9VUkkiLCJFcnJvciIsImNhY2hlZCIsImdsb2JhbCIsImNvbm4iLCJwcm9taXNlIiwiZGJDb25uZWN0Iiwib3B0cyIsImJ1ZmZlckNvbW1hbmRzIiwic2VydmVyU2VsZWN0aW9uVGltZW91dE1TIiwiY29ubmVjdCIsImNvbnNvbGUiLCJsb2ciLCJlcnJvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./lib/dbConnect.ts\n");

/***/ }),

/***/ "(api)/./middleware/withAuth.ts":
/*!********************************!*\
  !*** ./middleware/withAuth.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   withAuth: () => (/* binding */ withAuth)\n/* harmony export */ });\n/* harmony import */ var next_auth_jwt__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth/jwt */ \"next-auth/jwt\");\n/* harmony import */ var next_auth_jwt__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_auth_jwt__WEBPACK_IMPORTED_MODULE_0__);\n\nfunction withAuth(handler) {\n    return async (req, res)=>{\n        const token = await (0,next_auth_jwt__WEBPACK_IMPORTED_MODULE_0__.getToken)({\n            req,\n            secret: process.env.JWT_SECRET\n        });\n        if (!token) {\n            return res.status(401).json({\n                success: false,\n                message: \"Not authenticated\"\n            });\n        }\n        req.user = token;\n        return handler(req, res);\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9taWRkbGV3YXJlL3dpdGhBdXRoLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUF5QztBQVNsQyxTQUFTQyxTQUFTQyxPQUFZO0lBQ25DLE9BQU8sT0FBT0MsS0FBcUJDO1FBQ2pDLE1BQU1DLFFBQVEsTUFBTUwsdURBQVFBLENBQUM7WUFBRUc7WUFBS0csUUFBUUMsUUFBUUMsR0FBRyxDQUFDQyxVQUFVO1FBQUM7UUFFbkUsSUFBSSxDQUFDSixPQUFPO1lBQ1YsT0FBT0QsSUFDSk0sTUFBTSxDQUFDLEtBQ1BDLElBQUksQ0FBQztnQkFBRUMsU0FBUztnQkFBT0MsU0FBUztZQUFvQjtRQUN6RDtRQUVBVixJQUFJVyxJQUFJLEdBQUdUO1FBQ1gsT0FBT0gsUUFBUUMsS0FBS0M7SUFDdEI7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL215LWFwcC8uL21pZGRsZXdhcmUvd2l0aEF1dGgudHM/ZjVhMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRUb2tlbiB9IGZyb20gXCJuZXh0LWF1dGgvand0XCI7XHJcbmltcG9ydCB7IE5leHRBcGlSZXF1ZXN0LCBOZXh0QXBpUmVzcG9uc2UgfSBmcm9tIFwibmV4dFwiO1xyXG5cclxuZGVjbGFyZSBtb2R1bGUgXCJuZXh0XCIge1xyXG4gIGludGVyZmFjZSBOZXh0QXBpUmVxdWVzdCB7XHJcbiAgICB1c2VyPzogYW55O1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHdpdGhBdXRoKGhhbmRsZXI6IGFueSkge1xyXG4gIHJldHVybiBhc3luYyAocmVxOiBOZXh0QXBpUmVxdWVzdCwgcmVzOiBOZXh0QXBpUmVzcG9uc2UpID0+IHtcclxuICAgIGNvbnN0IHRva2VuID0gYXdhaXQgZ2V0VG9rZW4oeyByZXEsIHNlY3JldDogcHJvY2Vzcy5lbnYuSldUX1NFQ1JFVCB9KTtcclxuXHJcbiAgICBpZiAoIXRva2VuKSB7XHJcbiAgICAgIHJldHVybiByZXNcclxuICAgICAgICAuc3RhdHVzKDQwMSlcclxuICAgICAgICAuanNvbih7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiBcIk5vdCBhdXRoZW50aWNhdGVkXCIgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVxLnVzZXIgPSB0b2tlbjtcclxuICAgIHJldHVybiBoYW5kbGVyKHJlcSwgcmVzKTtcclxuICB9O1xyXG59XHJcbiJdLCJuYW1lcyI6WyJnZXRUb2tlbiIsIndpdGhBdXRoIiwiaGFuZGxlciIsInJlcSIsInJlcyIsInRva2VuIiwic2VjcmV0IiwicHJvY2VzcyIsImVudiIsIkpXVF9TRUNSRVQiLCJzdGF0dXMiLCJqc29uIiwic3VjY2VzcyIsIm1lc3NhZ2UiLCJ1c2VyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./middleware/withAuth.ts\n");

/***/ }),

/***/ "(api)/./models/FriendRequest.ts":
/*!*********************************!*\
  !*** ./models/FriendRequest.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst FriendRequestSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n    sender: {\n        type: (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema).Types.ObjectId,\n        ref: \"User\",\n        required: true\n    },\n    receiver: {\n        type: (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema).Types.ObjectId,\n        ref: \"User\",\n        required: true\n    },\n    status: {\n        type: String,\n        enum: [\n            \"pending\",\n            \"accepted\",\n            \"rejected\"\n        ],\n        default: \"pending\"\n    },\n    createdAt: {\n        type: Date,\n        default: Date.now\n    }\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).FriendRequest || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model(\"FriendRequest\", FriendRequestSchema));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9tb2RlbHMvRnJpZW5kUmVxdWVzdC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFDZ0M7QUFFaEMsTUFBTUMsc0JBQXNCLElBQUlELHdEQUFlLENBQUM7SUFDOUNHLFFBQVE7UUFDTkMsTUFBTUosd0RBQWUsQ0FBQ0ssS0FBSyxDQUFDQyxRQUFRO1FBQ3BDQyxLQUFLO1FBQ0xDLFVBQVU7SUFDWjtJQUNBQyxVQUFVO1FBQ1JMLE1BQU1KLHdEQUFlLENBQUNLLEtBQUssQ0FBQ0MsUUFBUTtRQUNwQ0MsS0FBSztRQUNMQyxVQUFVO0lBQ1o7SUFDQUUsUUFBUTtRQUNOTixNQUFNTztRQUNOQyxNQUFNO1lBQUM7WUFBVztZQUFZO1NBQVc7UUFDekNDLFNBQVM7SUFDWDtJQUNBQyxXQUFXO1FBQ1RWLE1BQU1XO1FBQ05GLFNBQVNFLEtBQUtDLEdBQUc7SUFDbkI7QUFDRjtBQUVBLGlFQUFlaEIsd0RBQWUsQ0FBQ2tCLGFBQWEsSUFBSWxCLHFEQUFjLENBQUMsaUJBQWlCQyxvQkFBb0JBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS1hcHAvLi9tb2RlbHMvRnJpZW5kUmVxdWVzdC50cz82MjZjIl0sInNvdXJjZXNDb250ZW50IjpbIlxyXG5pbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xyXG5cclxuY29uc3QgRnJpZW5kUmVxdWVzdFNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xyXG4gIHNlbmRlcjoge1xyXG4gICAgdHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLFxyXG4gICAgcmVmOiAnVXNlcicsXHJcbiAgICByZXF1aXJlZDogdHJ1ZVxyXG4gIH0sXHJcbiAgcmVjZWl2ZXI6IHtcclxuICAgIHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCxcclxuICAgIHJlZjogJ1VzZXInLFxyXG4gICAgcmVxdWlyZWQ6IHRydWVcclxuICB9LFxyXG4gIHN0YXR1czoge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgZW51bTogWydwZW5kaW5nJywgJ2FjY2VwdGVkJywgJ3JlamVjdGVkJ10sXHJcbiAgICBkZWZhdWx0OiAncGVuZGluZydcclxuICB9LFxyXG4gIGNyZWF0ZWRBdDoge1xyXG4gICAgdHlwZTogRGF0ZSxcclxuICAgIGRlZmF1bHQ6IERhdGUubm93XHJcbiAgfVxyXG59KTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IG1vbmdvb3NlLm1vZGVscy5GcmllbmRSZXF1ZXN0IHx8IG1vbmdvb3NlLm1vZGVsKCdGcmllbmRSZXF1ZXN0JywgRnJpZW5kUmVxdWVzdFNjaGVtYSk7XHJcbiJdLCJuYW1lcyI6WyJtb25nb29zZSIsIkZyaWVuZFJlcXVlc3RTY2hlbWEiLCJTY2hlbWEiLCJzZW5kZXIiLCJ0eXBlIiwiVHlwZXMiLCJPYmplY3RJZCIsInJlZiIsInJlcXVpcmVkIiwicmVjZWl2ZXIiLCJzdGF0dXMiLCJTdHJpbmciLCJlbnVtIiwiZGVmYXVsdCIsImNyZWF0ZWRBdCIsIkRhdGUiLCJub3ciLCJtb2RlbHMiLCJGcmllbmRSZXF1ZXN0IiwibW9kZWwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./models/FriendRequest.ts\n");

/***/ }),

/***/ "(api)/./models/User.ts":
/*!************************!*\
  !*** ./models/User.ts ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst UserSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n    name: {\n        type: String,\n        required: true\n    },\n    walletBalance: {\n        type: Number,\n        default: 0\n    },\n    stripeConnectId: {\n        type: String,\n        default: null\n    },\n    stripeAccountStatus: {\n        type: String,\n        enum: [\n            \"pending\",\n            \"active\",\n            \"rejected\",\n            \"restricted\"\n        ],\n        default: \"pending\"\n    },\n    email: {\n        type: String,\n        required: true,\n        unique: true\n    },\n    password: {\n        type: String,\n        required: true\n    },\n    role: {\n        type: String,\n        enum: [\n            \"Admin\",\n            \"User\",\n            \"Agent\",\n            \"Super\"\n        ],\n        default: \"User\"\n    },\n    cName: String,\n    profileImage: {\n        type: String,\n        required: false\n    },\n    friends: [\n        {\n            type: (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema).Types.ObjectId,\n            ref: \"User\"\n        }\n    ],\n    createdAt: {\n        type: Date,\n        default: Date.now\n    }\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).User || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model(\"User\", UserSchema));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9tb2RlbHMvVXNlci50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBZ0M7QUFFaEMsTUFBTUMsYUFBYSxJQUFJRCx3REFBZSxDQUFDO0lBQ3JDRyxNQUFNO1FBQ0pDLE1BQU1DO1FBQ05DLFVBQVU7SUFDWjtJQUNBQyxlQUFlO1FBQ2JILE1BQU1JO1FBQ05DLFNBQVM7SUFDWDtJQUNBQyxpQkFBaUI7UUFDZk4sTUFBTUM7UUFDTkksU0FBUztJQUNYO0lBQ0FFLHFCQUFxQjtRQUNuQlAsTUFBTUM7UUFDTk8sTUFBTTtZQUFDO1lBQVc7WUFBVTtZQUFZO1NBQWE7UUFDckRILFNBQVM7SUFDWDtJQUNBSSxPQUFPO1FBQ0xULE1BQU1DO1FBQ05DLFVBQVU7UUFDVlEsUUFBUTtJQUNWO0lBQ0FDLFVBQVU7UUFDUlgsTUFBTUM7UUFDTkMsVUFBVTtJQUNaO0lBQ0FVLE1BQU07UUFDSlosTUFBTUM7UUFDTk8sTUFBTTtZQUFDO1lBQVM7WUFBUTtZQUFTO1NBQVE7UUFDekNILFNBQVM7SUFDWDtJQUNBUSxPQUFPWjtJQUNQYSxjQUFjO1FBQ1pkLE1BQU1DO1FBQ05DLFVBQVU7SUFDWjtJQUNBYSxTQUFTO1FBQ1A7WUFDRWYsTUFBTUosd0RBQWUsQ0FBQ29CLEtBQUssQ0FBQ0MsUUFBUTtZQUNwQ0MsS0FBSztRQUNQO0tBQ0Q7SUFDREMsV0FBVztRQUNUbkIsTUFBTW9CO1FBQ05mLFNBQVNlLEtBQUtDLEdBQUc7SUFDbkI7QUFDRjtBQUVBLGlFQUFlekIsd0RBQWUsQ0FBQzJCLElBQUksSUFBSTNCLHFEQUFjLENBQUMsUUFBUUMsV0FBV0EsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL215LWFwcC8uL21vZGVscy9Vc2VyLnRzPzZkYzYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gXCJtb25nb29zZVwiO1xyXG5cclxuY29uc3QgVXNlclNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xyXG4gIG5hbWU6IHtcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gIH0sXHJcbiAgd2FsbGV0QmFsYW5jZToge1xyXG4gICAgdHlwZTogTnVtYmVyLFxyXG4gICAgZGVmYXVsdDogMCxcclxuICB9LFxyXG4gIHN0cmlwZUNvbm5lY3RJZDoge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgZGVmYXVsdDogbnVsbCxcclxuICB9LFxyXG4gIHN0cmlwZUFjY291bnRTdGF0dXM6IHtcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIGVudW06IFtcInBlbmRpbmdcIiwgXCJhY3RpdmVcIiwgXCJyZWplY3RlZFwiLCBcInJlc3RyaWN0ZWRcIl0sXHJcbiAgICBkZWZhdWx0OiBcInBlbmRpbmdcIixcclxuICB9LFxyXG4gIGVtYWlsOiB7XHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgIHVuaXF1ZTogdHJ1ZSxcclxuICB9LFxyXG4gIHBhc3N3b3JkOiB7XHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICByZXF1aXJlZDogdHJ1ZSxcclxuICB9LFxyXG4gIHJvbGU6IHtcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIGVudW06IFtcIkFkbWluXCIsIFwiVXNlclwiLCBcIkFnZW50XCIsIFwiU3VwZXJcIl0sXHJcbiAgICBkZWZhdWx0OiBcIlVzZXJcIixcclxuICB9LFxyXG4gIGNOYW1lOiBTdHJpbmcsXHJcbiAgcHJvZmlsZUltYWdlOiB7XHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICByZXF1aXJlZDogZmFsc2UsXHJcbiAgfSxcclxuICBmcmllbmRzOiBbXHJcbiAgICB7XHJcbiAgICAgIHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCxcclxuICAgICAgcmVmOiBcIlVzZXJcIixcclxuICAgIH0sXHJcbiAgXSxcclxuICBjcmVhdGVkQXQ6IHtcclxuICAgIHR5cGU6IERhdGUsXHJcbiAgICBkZWZhdWx0OiBEYXRlLm5vdyxcclxuICB9LFxyXG59KTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IG1vbmdvb3NlLm1vZGVscy5Vc2VyIHx8IG1vbmdvb3NlLm1vZGVsKFwiVXNlclwiLCBVc2VyU2NoZW1hKTtcclxuIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwiVXNlclNjaGVtYSIsIlNjaGVtYSIsIm5hbWUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJ3YWxsZXRCYWxhbmNlIiwiTnVtYmVyIiwiZGVmYXVsdCIsInN0cmlwZUNvbm5lY3RJZCIsInN0cmlwZUFjY291bnRTdGF0dXMiLCJlbnVtIiwiZW1haWwiLCJ1bmlxdWUiLCJwYXNzd29yZCIsInJvbGUiLCJjTmFtZSIsInByb2ZpbGVJbWFnZSIsImZyaWVuZHMiLCJUeXBlcyIsIk9iamVjdElkIiwicmVmIiwiY3JlYXRlZEF0IiwiRGF0ZSIsIm5vdyIsIm1vZGVscyIsIlVzZXIiLCJtb2RlbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./models/User.ts\n");

/***/ }),

/***/ "(api)/./pages/api/users/index.ts":
/*!**********************************!*\
  !*** ./pages/api/users/index.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! bcryptjs */ \"bcryptjs\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(bcryptjs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _lib_dbConnect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../lib/dbConnect */ \"(api)/./lib/dbConnect.ts\");\n/* harmony import */ var _models_User__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../models/User */ \"(api)/./models/User.ts\");\n/* harmony import */ var _models_FriendRequest__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../models/FriendRequest */ \"(api)/./models/FriendRequest.ts\");\n/* harmony import */ var _middleware_withAuth__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../middleware/withAuth */ \"(api)/./middleware/withAuth.ts\");\n\n\n\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_middleware_withAuth__WEBPACK_IMPORTED_MODULE_4__.withAuth)(async function handler(req, res) {\n    try {\n        await (0,_lib_dbConnect__WEBPACK_IMPORTED_MODULE_1__[\"default\"])();\n        if (req.method === \"GET\") {\n            try {\n                const userId = null;\n                const currentUser = await _models_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findById(req.user.id);\n                if (!currentUser) {\n                    return res.status(404).json({\n                        success: false,\n                        message: \"User not found\"\n                    });\n                }\n                const { page = 1, limit = 10, search = \"\", role = \"\" } = req.query;\n                const skip = (Number(page) - 1) * Number(limit);\n                let query = {};\n                if (search) {\n                    query.$or = [\n                        {\n                            name: {\n                                $regex: search,\n                                $options: \"i\"\n                            }\n                        },\n                        {\n                            email: {\n                                $regex: search,\n                                $options: \"i\"\n                            }\n                        }\n                    ];\n                }\n                if (role) {\n                    query.role = role;\n                }\n                if (currentUser.role === \"Admin\") {\n                    query._id = {\n                        $ne: userId\n                    };\n                } else {\n                    const friendIds = currentUser.friends?.map((friend)=>friend.toString()) || [];\n                    const friendRequests = await _models_FriendRequest__WEBPACK_IMPORTED_MODULE_3__[\"default\"].find({\n                        $or: [\n                            {\n                                sender: userId\n                            },\n                            {\n                                receiver: userId\n                            }\n                        ]\n                    });\n                    const requestUserIds = friendRequests.map((request)=>request.sender.toString() === userId ? request.receiver.toString() : request.sender.toString());\n                    query._id = {\n                        $ne: userId,\n                        $nin: Array.from(new Set([\n                            ...friendIds,\n                            ...requestUserIds\n                        ]))\n                    };\n                    query.role = {\n                        $ne: \"Admin\"\n                    };\n                }\n                const users = await _models_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].find(query).select(\"-password\").sort({\n                    createdAt: -1\n                }).skip(skip).limit(Number(limit));\n                const total = await _models_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].countDocuments(query);\n                return res.status(200).json({\n                    success: true,\n                    data: users,\n                    total,\n                    page: Number(page),\n                    totalPages: Math.ceil(total / Number(limit))\n                });\n            } catch (error) {\n                return res.status(401).json({\n                    success: false,\n                    message: \"Invalid token\"\n                });\n            }\n        } else if (req.method === \"POST\") {\n            const { name, email, password, role = \"User\", cName } = req.body;\n            if (!name || !email || !password) {\n                return res.status(400).json({\n                    success: false,\n                    message: \"Please provide all required fields\"\n                });\n            }\n            const existingUser = await _models_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findOne({\n                email\n            });\n            if (existingUser) {\n                return res.status(400).json({\n                    success: false,\n                    message: \"Email already exists\"\n                });\n            }\n            const hashedPassword = await bcryptjs__WEBPACK_IMPORTED_MODULE_0___default().hash(password, 10);\n            const user = await _models_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].create({\n                name,\n                email,\n                password: hashedPassword,\n                role,\n                cName\n            });\n            const userWithoutPassword = {\n                ...user.toObject(),\n                password: undefined\n            };\n            return res.status(201).json({\n                success: true,\n                data: userWithoutPassword\n            });\n        }\n        return res.status(405).json({\n            success: false,\n            message: \"Method not allowed\"\n        });\n    } catch (error) {\n        console.error(\"Server error:\", error);\n        return res.status(500).json({\n            success: false,\n            message: error.message\n        });\n    }\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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UUFDeEI7SUFDRjtBQUNGLEVBQUUsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL215LWFwcC8uL3BhZ2VzL2FwaS91c2Vycy9pbmRleC50cz9lOGFhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgTmV4dEFwaVJlcXVlc3QsIE5leHRBcGlSZXNwb25zZSB9IGZyb20gXCJuZXh0XCI7XHJcbmltcG9ydCBiY3J5cHQgZnJvbSBcImJjcnlwdGpzXCI7XHJcbmltcG9ydCBkYkNvbm5lY3QgZnJvbSBcIi4uLy4uLy4uL2xpYi9kYkNvbm5lY3RcIjtcclxuaW1wb3J0IFVzZXIgZnJvbSBcIi4uLy4uLy4uL21vZGVscy9Vc2VyXCI7XHJcbmltcG9ydCBGcmllbmRSZXF1ZXN0IGZyb20gXCIuLi8uLi8uLi9tb2RlbHMvRnJpZW5kUmVxdWVzdFwiO1xyXG5pbXBvcnQgeyB3aXRoQXV0aCB9IGZyb20gXCIuLi8uLi8uLi9taWRkbGV3YXJlL3dpdGhBdXRoXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCB3aXRoQXV0aChhc3luYyBmdW5jdGlvbiBoYW5kbGVyKFxyXG4gIHJlcTogTmV4dEFwaVJlcXVlc3QsXHJcbiAgcmVzOiBOZXh0QXBpUmVzcG9uc2VcclxuKSB7XHJcbiAgdHJ5IHtcclxuICAgIGF3YWl0IGRiQ29ubmVjdCgpO1xyXG5cclxuICAgIGlmIChyZXEubWV0aG9kID09PSBcIkdFVFwiKSB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgdXNlcklkID0gbnVsbDtcclxuXHJcbiAgICAgICAgY29uc3QgY3VycmVudFVzZXIgPSBhd2FpdCBVc2VyLmZpbmRCeUlkKHJlcS51c2VyLmlkKTtcclxuICAgICAgICBpZiAoIWN1cnJlbnRVc2VyKSB7XHJcbiAgICAgICAgICByZXR1cm4gcmVzXHJcbiAgICAgICAgICAgIC5zdGF0dXMoNDA0KVxyXG4gICAgICAgICAgICAuanNvbih7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiBcIlVzZXIgbm90IGZvdW5kXCIgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCB7IHBhZ2UgPSAxLCBsaW1pdCA9IDEwLCBzZWFyY2ggPSBcIlwiLCByb2xlID0gXCJcIiB9ID0gcmVxLnF1ZXJ5O1xyXG4gICAgICAgIGNvbnN0IHNraXAgPSAoTnVtYmVyKHBhZ2UpIC0gMSkgKiBOdW1iZXIobGltaXQpO1xyXG5cclxuICAgICAgICBsZXQgcXVlcnk6IGFueSA9IHt9O1xyXG5cclxuICAgICAgICBpZiAoc2VhcmNoKSB7XHJcbiAgICAgICAgICBxdWVyeS4kb3IgPSBbXHJcbiAgICAgICAgICAgIHsgbmFtZTogeyAkcmVnZXg6IHNlYXJjaCwgJG9wdGlvbnM6IFwiaVwiIH0gfSxcclxuICAgICAgICAgICAgeyBlbWFpbDogeyAkcmVnZXg6IHNlYXJjaCwgJG9wdGlvbnM6IFwiaVwiIH0gfSxcclxuICAgICAgICAgIF07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAocm9sZSkge1xyXG4gICAgICAgICAgcXVlcnkucm9sZSA9IHJvbGU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoY3VycmVudFVzZXIucm9sZSA9PT0gXCJBZG1pblwiKSB7XHJcbiAgICAgICAgICBxdWVyeS5faWQgPSB7ICRuZTogdXNlcklkIH07XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGNvbnN0IGZyaWVuZElkcyA9XHJcbiAgICAgICAgICAgIGN1cnJlbnRVc2VyLmZyaWVuZHM/Lm1hcCgoZnJpZW5kKSA9PiBmcmllbmQudG9TdHJpbmcoKSkgfHwgW107XHJcbiAgICAgICAgICBjb25zdCBmcmllbmRSZXF1ZXN0cyA9IGF3YWl0IEZyaWVuZFJlcXVlc3QuZmluZCh7XHJcbiAgICAgICAgICAgICRvcjogW3sgc2VuZGVyOiB1c2VySWQgfSwgeyByZWNlaXZlcjogdXNlcklkIH1dLFxyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgY29uc3QgcmVxdWVzdFVzZXJJZHMgPSBmcmllbmRSZXF1ZXN0cy5tYXAoKHJlcXVlc3QpID0+XHJcbiAgICAgICAgICAgIHJlcXVlc3Quc2VuZGVyLnRvU3RyaW5nKCkgPT09IHVzZXJJZFxyXG4gICAgICAgICAgICAgID8gcmVxdWVzdC5yZWNlaXZlci50b1N0cmluZygpXHJcbiAgICAgICAgICAgICAgOiByZXF1ZXN0LnNlbmRlci50b1N0cmluZygpXHJcbiAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgIHF1ZXJ5Ll9pZCA9IHtcclxuICAgICAgICAgICAgJG5lOiB1c2VySWQsXHJcbiAgICAgICAgICAgICRuaW46IEFycmF5LmZyb20obmV3IFNldChbLi4uZnJpZW5kSWRzLCAuLi5yZXF1ZXN0VXNlcklkc10pKSxcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICBxdWVyeS5yb2xlID0geyAkbmU6IFwiQWRtaW5cIiB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgdXNlcnMgPSBhd2FpdCBVc2VyLmZpbmQocXVlcnkpXHJcbiAgICAgICAgICAuc2VsZWN0KFwiLXBhc3N3b3JkXCIpXHJcbiAgICAgICAgICAuc29ydCh7IGNyZWF0ZWRBdDogLTEgfSlcclxuICAgICAgICAgIC5za2lwKHNraXApXHJcbiAgICAgICAgICAubGltaXQoTnVtYmVyKGxpbWl0KSk7XHJcblxyXG4gICAgICAgIGNvbnN0IHRvdGFsID0gYXdhaXQgVXNlci5jb3VudERvY3VtZW50cyhxdWVyeSk7XHJcblxyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgICAgZGF0YTogdXNlcnMsXHJcbiAgICAgICAgICB0b3RhbCxcclxuICAgICAgICAgIHBhZ2U6IE51bWJlcihwYWdlKSxcclxuICAgICAgICAgIHRvdGFsUGFnZXM6IE1hdGguY2VpbCh0b3RhbCAvIE51bWJlcihsaW1pdCkpLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIHJldHVybiByZXNcclxuICAgICAgICAgIC5zdGF0dXMoNDAxKVxyXG4gICAgICAgICAgLmpzb24oeyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZTogXCJJbnZhbGlkIHRva2VuXCIgfSk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAocmVxLm1ldGhvZCA9PT0gXCJQT1NUXCIpIHtcclxuICAgICAgY29uc3QgeyBuYW1lLCBlbWFpbCwgcGFzc3dvcmQsIHJvbGUgPSBcIlVzZXJcIiwgY05hbWUgfSA9IHJlcS5ib2R5O1xyXG5cclxuICAgICAgaWYgKCFuYW1lIHx8ICFlbWFpbCB8fCAhcGFzc3dvcmQpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xyXG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICBtZXNzYWdlOiBcIlBsZWFzZSBwcm92aWRlIGFsbCByZXF1aXJlZCBmaWVsZHNcIixcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgZXhpc3RpbmdVc2VyID0gYXdhaXQgVXNlci5maW5kT25lKHsgZW1haWwgfSk7XHJcbiAgICAgIGlmIChleGlzdGluZ1VzZXIpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xyXG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICBtZXNzYWdlOiBcIkVtYWlsIGFscmVhZHkgZXhpc3RzXCIsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IGhhc2hlZFBhc3N3b3JkID0gYXdhaXQgYmNyeXB0Lmhhc2gocGFzc3dvcmQsIDEwKTtcclxuICAgICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuY3JlYXRlKHtcclxuICAgICAgICBuYW1lLFxyXG4gICAgICAgIGVtYWlsLFxyXG4gICAgICAgIHBhc3N3b3JkOiBoYXNoZWRQYXNzd29yZCxcclxuICAgICAgICByb2xlLFxyXG4gICAgICAgIGNOYW1lLFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGNvbnN0IHVzZXJXaXRob3V0UGFzc3dvcmQgPSB7XHJcbiAgICAgICAgLi4udXNlci50b09iamVjdCgpLFxyXG4gICAgICAgIHBhc3N3b3JkOiB1bmRlZmluZWQsXHJcbiAgICAgIH07XHJcblxyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDEpLmpzb24oe1xyXG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgZGF0YTogdXNlcldpdGhvdXRQYXNzd29yZCxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA1KS5qc29uKHtcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgIG1lc3NhZ2U6IFwiTWV0aG9kIG5vdCBhbGxvd2VkXCIsXHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiU2VydmVyIGVycm9yOlwiLCBlcnJvcik7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSxcclxuICAgIH0pO1xyXG4gIH1cclxufSk7XHJcbiJdLCJuYW1lcyI6WyJiY3J5cHQiLCJkYkNvbm5lY3QiLCJVc2VyIiwiRnJpZW5kUmVxdWVzdCIsIndpdGhBdXRoIiwiaGFuZGxlciIsInJlcSIsInJlcyIsIm1ldGhvZCIsInVzZXJJZCIsImN1cnJlbnRVc2VyIiwiZmluZEJ5SWQiLCJ1c2VyIiwiaWQiLCJzdGF0dXMiLCJqc29uIiwic3VjY2VzcyIsIm1lc3NhZ2UiLCJwYWdlIiwibGltaXQiLCJzZWFyY2giLCJyb2xlIiwicXVlcnkiLCJza2lwIiwiTnVtYmVyIiwiJG9yIiwibmFtZSIsIiRyZWdleCIsIiRvcHRpb25zIiwiZW1haWwiLCJfaWQiLCIkbmUiLCJmcmllbmRJZHMiLCJmcmllbmRzIiwibWFwIiwiZnJpZW5kIiwidG9TdHJpbmciLCJmcmllbmRSZXF1ZXN0cyIsImZpbmQiLCJzZW5kZXIiLCJyZWNlaXZlciIsInJlcXVlc3RVc2VySWRzIiwicmVxdWVzdCIsIiRuaW4iLCJBcnJheSIsImZyb20iLCJTZXQiLCJ1c2VycyIsInNlbGVjdCIsInNvcnQiLCJjcmVhdGVkQXQiLCJ0b3RhbCIsImNvdW50RG9jdW1lbnRzIiwiZGF0YSIsInRvdGFsUGFnZXMiLCJNYXRoIiwiY2VpbCIsImVycm9yIiwicGFzc3dvcmQiLCJjTmFtZSIsImJvZHkiLCJleGlzdGluZ1VzZXIiLCJmaW5kT25lIiwiaGFzaGVkUGFzc3dvcmQiLCJoYXNoIiwiY3JlYXRlIiwidXNlcldpdGhvdXRQYXNzd29yZCIsInRvT2JqZWN0IiwidW5kZWZpbmVkIiwiY29uc29sZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./pages/api/users/index.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fusers&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cusers%5Cindex.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();
"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/users/me/friends";
exports.ids = ["pages/api/users/me/friends"];
exports.modules = {

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("mongoose");

/***/ }),

/***/ "next-auth/jwt":
/*!********************************!*\
  !*** external "next-auth/jwt" ***!
  \********************************/
/***/ ((module) => {

module.exports = require("next-auth/jwt");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fusers%2Fme%2Ffriends&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cusers%5Cme%5Cfriends.ts&middlewareConfigBase64=e30%3D!":
/*!**********************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fusers%2Fme%2Ffriends&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cusers%5Cme%5Cfriends.ts&middlewareConfigBase64=e30%3D! ***!
  \**********************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_users_me_friends_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\users\\me\\friends.ts */ \"(api)/./pages/api/users/me/friends.ts\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_users_me_friends_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_users_me_friends_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/users/me/friends\",\n        pathname: \"/api/users/me/friends\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_users_me_friends_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRnVzZXJzJTJGbWUlMkZmcmllbmRzJnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGcGFnZXMlNUNhcGklNUN1c2VycyU1Q21lJTVDZnJpZW5kcy50cyZtaWRkbGV3YXJlQ29uZmlnQmFzZTY0PWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDTDtBQUMxRDtBQUNnRTtBQUNoRTtBQUNBLGlFQUFlLHdFQUFLLENBQUMsMkRBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sZUFBZSx3RUFBSyxDQUFDLDJEQUFRO0FBQ3BDO0FBQ08sd0JBQXdCLGdIQUFtQjtBQUNsRDtBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxZQUFZO0FBQ1osQ0FBQzs7QUFFRCIsInNvdXJjZXMiOlsid2VicGFjazovL215LWFwcC8/NWM3ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vcGFnZXNcXFxcYXBpXFxcXHVzZXJzXFxcXG1lXFxcXGZyaWVuZHMudHNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgXCJkZWZhdWx0XCIpO1xuLy8gUmUtZXhwb3J0IGNvbmZpZy5cbmV4cG9ydCBjb25zdCBjb25maWcgPSBob2lzdCh1c2VybGFuZCwgXCJjb25maWdcIik7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS91c2Vycy9tZS9mcmllbmRzXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvdXNlcnMvbWUvZnJpZW5kc1wiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiXG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLWFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fusers%2Fme%2Ffriends&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cusers%5Cme%5Cfriends.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./lib/dbConnect.ts":
/*!**************************!*\
  !*** ./lib/dbConnect.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst MONGODB_URI = \"mongodb+srv://nolantapps:oCOt2NNcEQKUZcuj@impacto-cluster.s20zbjj.mongodb.net/axiom?retryWrites=true&w=majority\";\nif (!MONGODB_URI) {\n    throw new Error(\"Please define the MONGODB_URI environment variable inside .env.local\");\n}\nlet cached = global.mongoose;\nif (!cached) {\n    cached = global.mongoose = {\n        conn: null,\n        promise: null\n    };\n}\nasync function dbConnect() {\n    if (cached.conn) {\n        return cached.conn;\n    }\n    if (!cached.promise) {\n        const opts = {\n            bufferCommands: true,\n            serverSelectionTimeoutMS: 30000\n        };\n        cached.promise = mongoose__WEBPACK_IMPORTED_MODULE_0___default().connect(MONGODB_URI, opts);\n    }\n    try {\n        cached.conn = await cached.promise;\n        console.log(\"MongoDB Connected Successfully\");\n        return cached.conn;\n    } catch (error) {\n        cached.promise = null;\n        console.error(\"MongoDB Connection Error:\", error);\n        throw error;\n    }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (dbConnect);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvZGJDb25uZWN0LnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFnQztBQUVoQyxNQUFNQyxjQUNKO0FBRUYsSUFBSSxDQUFDQSxhQUFhO0lBQ2hCLE1BQU0sSUFBSUMsTUFDUjtBQUVKO0FBRUEsSUFBSUMsU0FBU0MsT0FBT0osUUFBUTtBQUU1QixJQUFJLENBQUNHLFFBQVE7SUFDWEEsU0FBU0MsT0FBT0osUUFBUSxHQUFHO1FBQUVLLE1BQU07UUFBTUMsU0FBUztJQUFLO0FBQ3pEO0FBRUEsZUFBZUM7SUFDYixJQUFJSixPQUFPRSxJQUFJLEVBQUU7UUFDZixPQUFPRixPQUFPRSxJQUFJO0lBQ3BCO0lBRUEsSUFBSSxDQUFDRixPQUFPRyxPQUFPLEVBQUU7UUFDbkIsTUFBTUUsT0FBTztZQUNYQyxnQkFBZ0I7WUFDaEJDLDBCQUEwQjtRQUM1QjtRQUVBUCxPQUFPRyxPQUFPLEdBQUdOLHVEQUFnQixDQUFDQyxhQUFhTztJQUNqRDtJQUVBLElBQUk7UUFDRkwsT0FBT0UsSUFBSSxHQUFHLE1BQU1GLE9BQU9HLE9BQU87UUFDbENNLFFBQVFDLEdBQUcsQ0FBQztRQUNaLE9BQU9WLE9BQU9FLElBQUk7SUFDcEIsRUFBRSxPQUFPUyxPQUFPO1FBQ2RYLE9BQU9HLE9BQU8sR0FBRztRQUNqQk0sUUFBUUUsS0FBSyxDQUFDLDZCQUE2QkE7UUFDM0MsTUFBTUE7SUFDUjtBQUNGO0FBRUEsaUVBQWVQLFNBQVNBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS1hcHAvLi9saWIvZGJDb25uZWN0LnRzP2M4ODMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gXCJtb25nb29zZVwiO1xyXG5cclxuY29uc3QgTU9OR09EQl9VUkkgPVxyXG4gIFwibW9uZ29kYitzcnY6Ly9ub2xhbnRhcHBzOm9DT3QyTk5jRVFLVVpjdWpAaW1wYWN0by1jbHVzdGVyLnMyMHpiamoubW9uZ29kYi5uZXQvYXhpb20/cmV0cnlXcml0ZXM9dHJ1ZSZ3PW1ham9yaXR5XCI7XHJcblxyXG5pZiAoIU1PTkdPREJfVVJJKSB7XHJcbiAgdGhyb3cgbmV3IEVycm9yKFxyXG4gICAgXCJQbGVhc2UgZGVmaW5lIHRoZSBNT05HT0RCX1VSSSBlbnZpcm9ubWVudCB2YXJpYWJsZSBpbnNpZGUgLmVudi5sb2NhbFwiXHJcbiAgKTtcclxufVxyXG5cclxubGV0IGNhY2hlZCA9IGdsb2JhbC5tb25nb29zZTtcclxuXHJcbmlmICghY2FjaGVkKSB7XHJcbiAgY2FjaGVkID0gZ2xvYmFsLm1vbmdvb3NlID0geyBjb25uOiBudWxsLCBwcm9taXNlOiBudWxsIH07XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGRiQ29ubmVjdCgpIHtcclxuICBpZiAoY2FjaGVkLmNvbm4pIHtcclxuICAgIHJldHVybiBjYWNoZWQuY29ubjtcclxuICB9XHJcblxyXG4gIGlmICghY2FjaGVkLnByb21pc2UpIHtcclxuICAgIGNvbnN0IG9wdHMgPSB7XHJcbiAgICAgIGJ1ZmZlckNvbW1hbmRzOiB0cnVlLCAvLyBDaGFuZ2VkIHRvIHRydWUgdG8gYWxsb3cgYnVmZmVyaW5nXHJcbiAgICAgIHNlcnZlclNlbGVjdGlvblRpbWVvdXRNUzogMzAwMDAsXHJcbiAgICB9O1xyXG5cclxuICAgIGNhY2hlZC5wcm9taXNlID0gbW9uZ29vc2UuY29ubmVjdChNT05HT0RCX1VSSSwgb3B0cyk7XHJcbiAgfVxyXG5cclxuICB0cnkge1xyXG4gICAgY2FjaGVkLmNvbm4gPSBhd2FpdCBjYWNoZWQucHJvbWlzZTtcclxuICAgIGNvbnNvbGUubG9nKFwiTW9uZ29EQiBDb25uZWN0ZWQgU3VjY2Vzc2Z1bGx5XCIpO1xyXG4gICAgcmV0dXJuIGNhY2hlZC5jb25uO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjYWNoZWQucHJvbWlzZSA9IG51bGw7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiTW9uZ29EQiBDb25uZWN0aW9uIEVycm9yOlwiLCBlcnJvcik7XHJcbiAgICB0aHJvdyBlcnJvcjtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGRiQ29ubmVjdDtcclxuIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwiTU9OR09EQl9VUkkiLCJFcnJvciIsImNhY2hlZCIsImdsb2JhbCIsImNvbm4iLCJwcm9taXNlIiwiZGJDb25uZWN0Iiwib3B0cyIsImJ1ZmZlckNvbW1hbmRzIiwic2VydmVyU2VsZWN0aW9uVGltZW91dE1TIiwiY29ubmVjdCIsImNvbnNvbGUiLCJsb2ciLCJlcnJvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./lib/dbConnect.ts\n");

/***/ }),

/***/ "(api)/./middleware/withAuth.ts":
/*!********************************!*\
  !*** ./middleware/withAuth.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   withAuth: () => (/* binding */ withAuth)\n/* harmony export */ });\n/* harmony import */ var next_auth_jwt__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth/jwt */ \"next-auth/jwt\");\n/* harmony import */ var next_auth_jwt__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_auth_jwt__WEBPACK_IMPORTED_MODULE_0__);\n\nfunction withAuth(handler) {\n    return async (req, res)=>{\n        const token = await (0,next_auth_jwt__WEBPACK_IMPORTED_MODULE_0__.getToken)({\n            req,\n            secret: process.env.JWT_SECRET\n        });\n        if (!token) {\n            return res.status(401).json({\n                success: false,\n                message: \"Not authenticated\"\n            });\n        }\n        req.user = token;\n        return handler(req, res);\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9taWRkbGV3YXJlL3dpdGhBdXRoLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUF5QztBQVNsQyxTQUFTQyxTQUFTQyxPQUFZO0lBQ25DLE9BQU8sT0FBT0MsS0FBcUJDO1FBQ2pDLE1BQU1DLFFBQVEsTUFBTUwsdURBQVFBLENBQUM7WUFBRUc7WUFBS0csUUFBUUMsUUFBUUMsR0FBRyxDQUFDQyxVQUFVO1FBQUM7UUFFbkUsSUFBSSxDQUFDSixPQUFPO1lBQ1YsT0FBT0QsSUFDSk0sTUFBTSxDQUFDLEtBQ1BDLElBQUksQ0FBQztnQkFBRUMsU0FBUztnQkFBT0MsU0FBUztZQUFvQjtRQUN6RDtRQUVBVixJQUFJVyxJQUFJLEdBQUdUO1FBQ1gsT0FBT0gsUUFBUUMsS0FBS0M7SUFDdEI7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL215LWFwcC8uL21pZGRsZXdhcmUvd2l0aEF1dGgudHM/ZjVhMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRUb2tlbiB9IGZyb20gXCJuZXh0LWF1dGgvand0XCI7XHJcbmltcG9ydCB7IE5leHRBcGlSZXF1ZXN0LCBOZXh0QXBpUmVzcG9uc2UgfSBmcm9tIFwibmV4dFwiO1xyXG5cclxuZGVjbGFyZSBtb2R1bGUgXCJuZXh0XCIge1xyXG4gIGludGVyZmFjZSBOZXh0QXBpUmVxdWVzdCB7XHJcbiAgICB1c2VyPzogYW55O1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHdpdGhBdXRoKGhhbmRsZXI6IGFueSkge1xyXG4gIHJldHVybiBhc3luYyAocmVxOiBOZXh0QXBpUmVxdWVzdCwgcmVzOiBOZXh0QXBpUmVzcG9uc2UpID0+IHtcclxuICAgIGNvbnN0IHRva2VuID0gYXdhaXQgZ2V0VG9rZW4oeyByZXEsIHNlY3JldDogcHJvY2Vzcy5lbnYuSldUX1NFQ1JFVCB9KTtcclxuXHJcbiAgICBpZiAoIXRva2VuKSB7XHJcbiAgICAgIHJldHVybiByZXNcclxuICAgICAgICAuc3RhdHVzKDQwMSlcclxuICAgICAgICAuanNvbih7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiBcIk5vdCBhdXRoZW50aWNhdGVkXCIgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVxLnVzZXIgPSB0b2tlbjtcclxuICAgIHJldHVybiBoYW5kbGVyKHJlcSwgcmVzKTtcclxuICB9O1xyXG59XHJcbiJdLCJuYW1lcyI6WyJnZXRUb2tlbiIsIndpdGhBdXRoIiwiaGFuZGxlciIsInJlcSIsInJlcyIsInRva2VuIiwic2VjcmV0IiwicHJvY2VzcyIsImVudiIsIkpXVF9TRUNSRVQiLCJzdGF0dXMiLCJqc29uIiwic3VjY2VzcyIsIm1lc3NhZ2UiLCJ1c2VyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./middleware/withAuth.ts\n");

/***/ }),

/***/ "(api)/./models/User.ts":
/*!************************!*\
  !*** ./models/User.ts ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst UserSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n    name: {\n        type: String,\n        required: true\n    },\n    walletBalance: {\n        type: Number,\n        default: 0\n    },\n    stripeConnectId: {\n        type: String,\n        default: null\n    },\n    stripeAccountStatus: {\n        type: String,\n        enum: [\n            \"pending\",\n            \"active\",\n            \"rejected\",\n            \"restricted\"\n        ],\n        default: \"pending\"\n    },\n    email: {\n        type: String,\n        required: true,\n        unique: true\n    },\n    password: {\n        type: String,\n        required: true\n    },\n    role: {\n        type: String,\n        enum: [\n            \"Admin\",\n            \"User\",\n            \"Agent\",\n            \"Super\"\n        ],\n        default: \"User\"\n    },\n    cName: String,\n    profileImage: {\n        type: String,\n        required: false\n    },\n    friends: [\n        {\n            type: (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema).Types.ObjectId,\n            ref: \"User\"\n        }\n    ],\n    createdAt: {\n        type: Date,\n        default: Date.now\n    }\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).User || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model(\"User\", UserSchema));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9tb2RlbHMvVXNlci50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBZ0M7QUFFaEMsTUFBTUMsYUFBYSxJQUFJRCx3REFBZSxDQUFDO0lBQ3JDRyxNQUFNO1FBQ0pDLE1BQU1DO1FBQ05DLFVBQVU7SUFDWjtJQUNBQyxlQUFlO1FBQ2JILE1BQU1JO1FBQ05DLFNBQVM7SUFDWDtJQUNBQyxpQkFBaUI7UUFDZk4sTUFBTUM7UUFDTkksU0FBUztJQUNYO0lBQ0FFLHFCQUFxQjtRQUNuQlAsTUFBTUM7UUFDTk8sTUFBTTtZQUFDO1lBQVc7WUFBVTtZQUFZO1NBQWE7UUFDckRILFNBQVM7SUFDWDtJQUNBSSxPQUFPO1FBQ0xULE1BQU1DO1FBQ05DLFVBQVU7UUFDVlEsUUFBUTtJQUNWO0lBQ0FDLFVBQVU7UUFDUlgsTUFBTUM7UUFDTkMsVUFBVTtJQUNaO0lBQ0FVLE1BQU07UUFDSlosTUFBTUM7UUFDTk8sTUFBTTtZQUFDO1lBQVM7WUFBUTtZQUFTO1NBQVE7UUFDekNILFNBQVM7SUFDWDtJQUNBUSxPQUFPWjtJQUNQYSxjQUFjO1FBQ1pkLE1BQU1DO1FBQ05DLFVBQVU7SUFDWjtJQUNBYSxTQUFTO1FBQ1A7WUFDRWYsTUFBTUosd0RBQWUsQ0FBQ29CLEtBQUssQ0FBQ0MsUUFBUTtZQUNwQ0MsS0FBSztRQUNQO0tBQ0Q7SUFDREMsV0FBVztRQUNUbkIsTUFBTW9CO1FBQ05mLFNBQVNlLEtBQUtDLEdBQUc7SUFDbkI7QUFDRjtBQUVBLGlFQUFlekIsd0RBQWUsQ0FBQzJCLElBQUksSUFBSTNCLHFEQUFjLENBQUMsUUFBUUMsV0FBV0EsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL215LWFwcC8uL21vZGVscy9Vc2VyLnRzPzZkYzYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gXCJtb25nb29zZVwiO1xyXG5cclxuY29uc3QgVXNlclNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xyXG4gIG5hbWU6IHtcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gIH0sXHJcbiAgd2FsbGV0QmFsYW5jZToge1xyXG4gICAgdHlwZTogTnVtYmVyLFxyXG4gICAgZGVmYXVsdDogMCxcclxuICB9LFxyXG4gIHN0cmlwZUNvbm5lY3RJZDoge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgZGVmYXVsdDogbnVsbCxcclxuICB9LFxyXG4gIHN0cmlwZUFjY291bnRTdGF0dXM6IHtcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIGVudW06IFtcInBlbmRpbmdcIiwgXCJhY3RpdmVcIiwgXCJyZWplY3RlZFwiLCBcInJlc3RyaWN0ZWRcIl0sXHJcbiAgICBkZWZhdWx0OiBcInBlbmRpbmdcIixcclxuICB9LFxyXG4gIGVtYWlsOiB7XHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgIHVuaXF1ZTogdHJ1ZSxcclxuICB9LFxyXG4gIHBhc3N3b3JkOiB7XHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICByZXF1aXJlZDogdHJ1ZSxcclxuICB9LFxyXG4gIHJvbGU6IHtcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIGVudW06IFtcIkFkbWluXCIsIFwiVXNlclwiLCBcIkFnZW50XCIsIFwiU3VwZXJcIl0sXHJcbiAgICBkZWZhdWx0OiBcIlVzZXJcIixcclxuICB9LFxyXG4gIGNOYW1lOiBTdHJpbmcsXHJcbiAgcHJvZmlsZUltYWdlOiB7XHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICByZXF1aXJlZDogZmFsc2UsXHJcbiAgfSxcclxuICBmcmllbmRzOiBbXHJcbiAgICB7XHJcbiAgICAgIHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCxcclxuICAgICAgcmVmOiBcIlVzZXJcIixcclxuICAgIH0sXHJcbiAgXSxcclxuICBjcmVhdGVkQXQ6IHtcclxuICAgIHR5cGU6IERhdGUsXHJcbiAgICBkZWZhdWx0OiBEYXRlLm5vdyxcclxuICB9LFxyXG59KTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IG1vbmdvb3NlLm1vZGVscy5Vc2VyIHx8IG1vbmdvb3NlLm1vZGVsKFwiVXNlclwiLCBVc2VyU2NoZW1hKTtcclxuIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwiVXNlclNjaGVtYSIsIlNjaGVtYSIsIm5hbWUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJ3YWxsZXRCYWxhbmNlIiwiTnVtYmVyIiwiZGVmYXVsdCIsInN0cmlwZUNvbm5lY3RJZCIsInN0cmlwZUFjY291bnRTdGF0dXMiLCJlbnVtIiwiZW1haWwiLCJ1bmlxdWUiLCJwYXNzd29yZCIsInJvbGUiLCJjTmFtZSIsInByb2ZpbGVJbWFnZSIsImZyaWVuZHMiLCJUeXBlcyIsIk9iamVjdElkIiwicmVmIiwiY3JlYXRlZEF0IiwiRGF0ZSIsIm5vdyIsIm1vZGVscyIsIlVzZXIiLCJtb2RlbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./models/User.ts\n");

/***/ }),

/***/ "(api)/./pages/api/users/me/friends.ts":
/*!***************************************!*\
  !*** ./pages/api/users/me/friends.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _lib_dbConnect__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../lib/dbConnect */ \"(api)/./lib/dbConnect.ts\");\n/* harmony import */ var _models_User__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../models/User */ \"(api)/./models/User.ts\");\n/* harmony import */ var _middleware_withAuth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../middleware/withAuth */ \"(api)/./middleware/withAuth.ts\");\n\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_middleware_withAuth__WEBPACK_IMPORTED_MODULE_2__.withAuth)(async function handler(req, res) {\n    if (req.method !== \"GET\") {\n        return res.status(405).json({\n            success: false,\n            message: \"Method not allowed\"\n        });\n    }\n    try {\n        await (0,_lib_dbConnect__WEBPACK_IMPORTED_MODULE_0__[\"default\"])();\n        const userId = req.user.id;\n        const user = await _models_User__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findById(userId).populate(\"friends\", \"name email profileImage\");\n        let otherUsers = [];\n        if (req.query.others) {\n            otherUsers = await _models_User__WEBPACK_IMPORTED_MODULE_1__[\"default\"].find({\n                role: {\n                    $in: [\n                        \"Admin\",\n                        \"Agent\"\n                    ]\n                }\n            });\n        }\n        console.log(\"ad\", otherUsers);\n        if (!user) {\n            return res.status(404).json({\n                success: false,\n                message: \"User not found\"\n            });\n        }\n        res.status(200).json({\n            success: true,\n            data: [\n                ...user.friends,\n                ...otherUsers\n            ]\n        });\n    } catch (error) {\n        console.error(\"Error fetching friends:\", error);\n        res.status(500).json({\n            success: false,\n            message: \"Error fetching friends\"\n        });\n    }\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvdXNlcnMvbWUvZnJpZW5kcy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBRWtEO0FBQ1A7QUFDZ0I7QUFFM0QsaUVBQWVFLDhEQUFRQSxDQUFDLGVBQWVDLFFBQ3JDQyxHQUFtQixFQUNuQkMsR0FBb0I7SUFFcEIsSUFBSUQsSUFBSUUsTUFBTSxLQUFLLE9BQU87UUFDeEIsT0FBT0QsSUFDSkUsTUFBTSxDQUFDLEtBQ1BDLElBQUksQ0FBQztZQUFFQyxTQUFTO1lBQU9DLFNBQVM7UUFBcUI7SUFDMUQ7SUFFQSxJQUFJO1FBQ0YsTUFBTVYsMERBQVNBO1FBRWYsTUFBTVcsU0FBU1AsSUFBSVEsSUFBSSxDQUFDQyxFQUFFO1FBRTFCLE1BQU1ELE9BQU8sTUFBTVgsNkRBQWEsQ0FBQ1UsUUFBUUksUUFBUSxDQUMvQyxXQUNBO1FBR0YsSUFBSUMsYUFBYSxFQUFFO1FBRW5CLElBQUlaLElBQUlhLEtBQUssQ0FBQ0MsTUFBTSxFQUFFO1lBQ3BCRixhQUFhLE1BQU1mLHlEQUFTLENBQUM7Z0JBQzNCbUIsTUFBTTtvQkFBRUMsS0FBSzt3QkFBQzt3QkFBUztxQkFBUTtnQkFBQztZQUNsQztRQUNGO1FBRUFDLFFBQVFDLEdBQUcsQ0FBQyxNQUFNUDtRQUVsQixJQUFJLENBQUNKLE1BQU07WUFDVCxPQUFPUCxJQUNKRSxNQUFNLENBQUMsS0FDUEMsSUFBSSxDQUFDO2dCQUFFQyxTQUFTO2dCQUFPQyxTQUFTO1lBQWlCO1FBQ3REO1FBRUFMLElBQ0dFLE1BQU0sQ0FBQyxLQUNQQyxJQUFJLENBQUM7WUFBRUMsU0FBUztZQUFNZSxNQUFNO21CQUFJWixLQUFLYSxPQUFPO21CQUFLVDthQUFXO1FBQUM7SUFDbEUsRUFBRSxPQUFPVSxPQUFPO1FBQ2RKLFFBQVFJLEtBQUssQ0FBQywyQkFBMkJBO1FBQ3pDckIsSUFBSUUsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztZQUFFQyxTQUFTO1lBQU9DLFNBQVM7UUFBeUI7SUFDM0U7QUFDRixFQUFFLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS1hcHAvLi9wYWdlcy9hcGkvdXNlcnMvbWUvZnJpZW5kcy50cz85ODE4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgTmV4dEFwaVJlcXVlc3QsIE5leHRBcGlSZXNwb25zZSB9IGZyb20gXCJuZXh0XCI7XHJcbmltcG9ydCBqd3QgZnJvbSBcImpzb253ZWJ0b2tlblwiO1xyXG5pbXBvcnQgZGJDb25uZWN0IGZyb20gXCIuLi8uLi8uLi8uLi9saWIvZGJDb25uZWN0XCI7XHJcbmltcG9ydCBVc2VyIGZyb20gXCIuLi8uLi8uLi8uLi9tb2RlbHMvVXNlclwiO1xyXG5pbXBvcnQgeyB3aXRoQXV0aCB9IGZyb20gXCIuLi8uLi8uLi8uLi9taWRkbGV3YXJlL3dpdGhBdXRoXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCB3aXRoQXV0aChhc3luYyBmdW5jdGlvbiBoYW5kbGVyKFxyXG4gIHJlcTogTmV4dEFwaVJlcXVlc3QsXHJcbiAgcmVzOiBOZXh0QXBpUmVzcG9uc2VcclxuKSB7XHJcbiAgaWYgKHJlcS5tZXRob2QgIT09IFwiR0VUXCIpIHtcclxuICAgIHJldHVybiByZXNcclxuICAgICAgLnN0YXR1cyg0MDUpXHJcbiAgICAgIC5qc29uKHsgc3VjY2VzczogZmFsc2UsIG1lc3NhZ2U6IFwiTWV0aG9kIG5vdCBhbGxvd2VkXCIgfSk7XHJcbiAgfVxyXG5cclxuICB0cnkge1xyXG4gICAgYXdhaXQgZGJDb25uZWN0KCk7XHJcblxyXG4gICAgY29uc3QgdXNlcklkID0gcmVxLnVzZXIuaWQ7XHJcblxyXG4gICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZEJ5SWQodXNlcklkKS5wb3B1bGF0ZShcclxuICAgICAgXCJmcmllbmRzXCIsXHJcbiAgICAgIFwibmFtZSBlbWFpbCBwcm9maWxlSW1hZ2VcIlxyXG4gICAgKTtcclxuXHJcbiAgICBsZXQgb3RoZXJVc2VycyA9IFtdO1xyXG5cclxuICAgIGlmIChyZXEucXVlcnkub3RoZXJzKSB7XHJcbiAgICAgIG90aGVyVXNlcnMgPSBhd2FpdCBVc2VyLmZpbmQoe1xyXG4gICAgICAgIHJvbGU6IHsgJGluOiBbXCJBZG1pblwiLCBcIkFnZW50XCJdIH0sXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnNvbGUubG9nKFwiYWRcIiwgb3RoZXJVc2Vycyk7XHJcblxyXG4gICAgaWYgKCF1c2VyKSB7XHJcbiAgICAgIHJldHVybiByZXNcclxuICAgICAgICAuc3RhdHVzKDQwNClcclxuICAgICAgICAuanNvbih7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiBcIlVzZXIgbm90IGZvdW5kXCIgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVzXHJcbiAgICAgIC5zdGF0dXMoMjAwKVxyXG4gICAgICAuanNvbih7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IFsuLi51c2VyLmZyaWVuZHMsIC4uLm90aGVyVXNlcnNdIH0pO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZmV0Y2hpbmcgZnJpZW5kczpcIiwgZXJyb3IpO1xyXG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZTogXCJFcnJvciBmZXRjaGluZyBmcmllbmRzXCIgfSk7XHJcbiAgfVxyXG59KTtcclxuIl0sIm5hbWVzIjpbImRiQ29ubmVjdCIsIlVzZXIiLCJ3aXRoQXV0aCIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJtZXRob2QiLCJzdGF0dXMiLCJqc29uIiwic3VjY2VzcyIsIm1lc3NhZ2UiLCJ1c2VySWQiLCJ1c2VyIiwiaWQiLCJmaW5kQnlJZCIsInBvcHVsYXRlIiwib3RoZXJVc2VycyIsInF1ZXJ5Iiwib3RoZXJzIiwiZmluZCIsInJvbGUiLCIkaW4iLCJjb25zb2xlIiwibG9nIiwiZGF0YSIsImZyaWVuZHMiLCJlcnJvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./pages/api/users/me/friends.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fusers%2Fme%2Ffriends&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cusers%5Cme%5Cfriends.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();
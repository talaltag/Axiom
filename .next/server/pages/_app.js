(()=>{var e={};e.id=2888,e.ids=[2888],e.modules={6814:(e,r,t)=>{"use strict";t.a(e,async(e,a)=>{try{t.r(r),t.d(r,{default:()=>d});var s=t(20997);t(86764),t(89090);var o=t(43291),i=t(7120),n=t(38890),u=t.n(n),c=t(41649),l=e([o,i]);[o,i]=l.then?(await l)():l;let d=function({Component:e,pageProps:{session:r,...t}}){return s.jsx(c.SessionProvider,{session:r,children:(0,s.jsxs)(o.Provider,{store:i.h,children:[s.jsx(u(),{options:{showSpinner:!1},color:"#F8CA15",height:4}),s.jsx(e,{...t})]})})};a()}catch(e){a(e)}})},50902:(e,r,t)=>{"use strict";t.a(e,async(e,a)=>{try{t.d(r,{ZP:()=>l,kS:()=>c});var s=t(73258),o=e([s]);s=(o.then?(await o)():o)[0];let i=(0,s.createAsyncThunk)("auth/login",async e=>{let r=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),t=await r.json();if(!r.ok)throw Error(t.message);return localStorage.setItem("token",t.token),t}),n=(0,s.createAsyncThunk)("auth/fetchUser",async()=>{let e=await fetch("/api/auth/me",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),r=await e.json();if(!e.ok)throw Error(r.message);return r}),u=(0,s.createSlice)({name:"auth",initialState:{token:null,user:null,isLoading:!1,error:null},reducers:{logout:e=>{e.token=null,e.user=null,localStorage.removeItem("token"),localStorage.removeItem("user")}},extraReducers:e=>{e.addCase(i.pending,e=>{e.isLoading=!0,e.error=null}).addCase(i.fulfilled,(e,r)=>{e.isLoading=!1,e.token=r.payload.token,e.user=r.payload.user}).addCase(i.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Login failed"}).addCase(n.fulfilled,(e,r)=>{e.user=r.payload})}}),{logout:c}=u.actions,l=u.reducer;a()}catch(e){a(e)}})},7120:(e,r,t)=>{"use strict";t.a(e,async(e,a)=>{try{t.d(r,{h:()=>n});var s=t(73258),o=t(50902),i=e([s,o]);[s,o]=i.then?(await i)():i;let n=(0,s.configureStore)({reducer:{auth:o.ZP}});a()}catch(e){a(e)}})},89090:()=>{},86764:()=>{},41649:e=>{"use strict";e.exports=require("next-auth/react")},38890:e=>{"use strict";e.exports=require("nextjs-progressbar")},20997:e=>{"use strict";e.exports=require("react/jsx-runtime")},73258:e=>{"use strict";e.exports=import("@reduxjs/toolkit")},43291:e=>{"use strict";e.exports=import("react-redux")}};var r=require("../webpack-runtime.js");r.C(e);var t=r(r.s=6814);module.exports=t})();
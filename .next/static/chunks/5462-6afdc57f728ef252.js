"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5462],{85166:function(e,t,s){var i=s(85893);s(67294);var n=s(87168);t.Z=e=>{let{fullscreen:t}=e;return t?(0,i.jsx)("div",{className:"position-fixed top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center bg-white bg-opacity-75",style:{zIndex:1050},children:(0,i.jsx)(n.Z,{color:"warning",style:{width:"3rem",height:"3rem"},children:"Loading..."})}):(0,i.jsx)(n.Z,{color:"warning",size:"sm",className:"ms-2",children:"Loading..."})}},70525:function(e,t,s){s.d(t,{Z:function(){return u}});var i=s(85893),n=s(67294),a=s(58589),r=s(98842),o=s(25062),l=s(4683),c=s(38824),d=s(77424),x=s(41664),h=s.n(x),m=s(25675),p=s.n(m);function u(e){let{role:t}=e,[s,x]=(0,n.useState)([]),[m,u]=(0,n.useState)(0);(0,n.useEffect)(()=>{g()},[]);let g=async()=>{try{let e=localStorage.getItem("token"),t=await fetch("/api/notifications",{headers:{Authorization:"Bearer ".concat(e)}}),s=await t.json();s.success&&(x(s.data),u(s.data.filter(e=>!e.isRead).length))}catch(e){console.error("Error fetching notifications:",e)}};return(0,i.jsxs)(a.Z,{children:[(0,i.jsxs)(r.Z,{nav:!0,className:"position-relative",children:[(0,i.jsx)(d.Z,{size:20}),m>0&&(0,i.jsx)(o.Z,{color:"danger",pill:!0,className:"position-absolute",style:{top:"-5px",right:"-5px"},children:m})]}),(0,i.jsxs)(l.Z,{end:!0,className:"notification-dropdown p-0",style:{width:"320px",maxHeight:"400px"},children:[(0,i.jsxs)("div",{className:"p-2 border-bottom d-flex justify-content-between align-items-center",children:[(0,i.jsx)("h6",{className:"mb-0",children:"Notifications"}),(0,i.jsx)(h(),{href:t?"/".concat(t,"/notifications"):"/user/notifications",className:"text-muted small",children:"View All"})]}),(0,i.jsx)("div",{style:{maxHeight:"300px",overflowY:"auto"},children:0===s.length?(0,i.jsx)(c.Z,{text:!0,children:"No notifications"}):s.slice(0,5).map(e=>(0,i.jsx)(c.Z,{className:"border-bottom",children:(0,i.jsxs)("div",{className:"d-flex align-items-center",children:[(0,i.jsx)(p(),{src:"/user1.png",alt:"User",width:40,height:40,className:"rounded-circle me-2"}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"fw-bold",children:e.title}),(0,i.jsx)("small",{className:"text-muted",children:new Date(e.createdAt).toLocaleString()})]})]})},e._id))})]})]})}},73796:function(e,t,s){s.d(t,{Z:function(){return R}});var i=s(85893),n=s(67294),a=s(79862),r=s(84082),o=s(35510),l=s(16987),c=s(58589),d=s(98842),x=s(4683),h=s(38824),m=s(11163),p=s(45007),u=s(44109),g=s(25675),j=s.n(g),f=s(25471),v=s(38571),b=s(39646),w=s(17207),N=s(83220),Z=s(81912),y=s(77662),z=s(48903),S=s(27434),E=s(4868),k=s(41664),A=s.n(k),C=s(70525),F=s(33299);function R(e){var t,s,g,k,R,W;let{children:_}=e,B=(0,m.useRouter)(),I=(0,p.I0)(),[L,D]=(0,n.useState)(!0),O=(0,F.useSession)(),P=[{text:"Dashboard",path:"/user/dashboard",icon:(0,i.jsx)(f.Z,{size:18})},{text:"Tournaments",path:"/user/dashboard/tournaments",icon:(0,i.jsx)(v.Z,{size:18})},{text:"Friends",path:"/user/friends",icon:(0,i.jsx)(b.Z,{size:18})},{text:"Statistics",path:"/user/statistics",icon:(0,i.jsx)(w.Z,{size:18})},{text:"Wallet",path:"/user/wallet",icon:(0,i.jsx)(N.Z,{size:18})},{text:"Chat",path:"/chat",icon:(0,i.jsx)(Z.Z,{size:18})},{text:"Settings",path:"/user/settings",icon:(0,i.jsx)(y.Z,{size:18})}];return(0,i.jsxs)("div",{className:"d-flex",children:[(0,i.jsxs)(a.Z,{vertical:!0,className:"bg-white border-end sidebar ".concat(L?"open":""),style:{width:L?"240px":"64px",height:"100vh",position:"fixed",left:0,top:0,zIndex:1030,transition:"all 0.3s ease-in-out"},children:[(0,i.jsx)("div",{className:"p-3 d-flex align-items-center mb-2",children:(0,i.jsxs)("div",{className:"d-flex w-100 align-items-center justify-content-between",children:[L&&(0,i.jsx)(j(),{src:"/axiom-logo.png",alt:"Axiom",width:70,height:45}),(0,i.jsx)(r.Z,{className:"p-0",color:"initial",onClick:()=>D(!L),children:(0,i.jsx)(z.Z,{size:24,style:{transform:L?"rotate(0deg)":"rotate(180deg)",transition:"transform 0.3s ease-in-out"}})})]})}),P.map(e=>(0,i.jsx)(o.Z,{children:(0,i.jsxs)(A(),{href:e.path,className:"d-flex align-items-center mb-2 px-3 py-2 ".concat(B.pathname===e.path?"bg-warning text-dark":"text-muted"),style:{textDecoration:"none"},children:[e.icon,L&&(0,i.jsx)("span",{className:"ms-2",children:e.text})]})},e.text))]}),(0,i.jsxs)("div",{style:{marginLeft:L?"240px":"64px",transition:"margin-left 0.3s ease-in-out",width:"100%"},children:[(0,i.jsx)(l.Z,{className:"bg-white border-bottom px-4",container:!1,children:(0,i.jsx)(a.Z,{className:"ms-auto d-flex align-items-center",navbar:!0,children:(0,i.jsxs)("div",{className:"d-flex align-items-center me-3",children:[(0,i.jsx)(C.Z,{})," ",(0,i.jsxs)(c.Z,{inNavbar:!0,nav:!0,className:"ms-3",children:[(0,i.jsxs)(d.Z,{nav:!0,children:[(0,i.jsx)(j(),{src:null!==(W=null===(t=O.data)||void 0===t?void 0:t.user.profileImage)&&void 0!==W?W:"/profile-avatar.png",alt:null===(g=O.data)||void 0===g?void 0:null===(s=g.user)||void 0===s?void 0:s.name,width:32,height:32,className:"rounded-circle me-2"}),null===(R=O.data)||void 0===R?void 0:null===(k=R.user)||void 0===k?void 0:k.name," ",(0,i.jsx)(S.Z,{size:16})]}),(0,i.jsx)(x.Z,{end:!0,className:"position-absolute",children:(0,i.jsxs)(h.Z,{onClick:()=>{I((0,u.kS)()),(0,F.signOut)({redirect:!1}).then(()=>B.push("/auth/login"))},children:[(0,i.jsx)(E.Z,{size:14,className:"me-2"}),"Logout"]})})]})]})})}),(0,i.jsx)("main",{className:"p-4",children:_})]})]})}},70833:function(e,t,s){var i=s(85893),n=s(33299),a=s(4991),r=s(67294),o=s(85166),l=s(41664),c=s.n(l);t.Z=e=>{let{setTournaments:t}=e,s=(0,n.useSession)(),[l,d]=(0,r.useState)(!1),[x,h]=(0,r.useState)(null),[m,p]=(0,r.useState)([]);return((0,r.useEffect)(()=>{var e,i;let n=async()=>{try{d(!0);let e=await fetch("/api/tournaments/history");if(!e.ok){let t=await e.json();throw Error(t.message||"Failed to fetch tournaments")}let s=await e.json();if(s.success)p(s.data),t&&t(s);else throw Error(s.message||"An unexpected error occurred")}catch(e){console.error("Error fetching tournaments:",e),h(e.message)}finally{d(!1)}};(null==s?void 0:null===(i=s.data)||void 0===i?void 0:null===(e=i.user)||void 0===e?void 0:e.id)&&n()},[s]),l)?(0,i.jsx)("div",{className:"m-3",children:(0,i.jsx)(o.Z,{})}):(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(a.Z,{borderless:!0,style:{marginBottom:"20px"},children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{style:{borderBottom:"1px solid #EAECF0"},children:[(0,i.jsx)("th",{style:{color:"#667085",fontSize:"12px",fontWeight:500,padding:"12px 24px"},children:"Tournament"}),(0,i.jsx)("th",{style:{color:"#667085",fontSize:"12px",fontWeight:500,padding:"12px 24px"},children:"Placement"}),(0,i.jsx)("th",{style:{color:"#667085",fontSize:"12px",fontWeight:500,padding:"12px 24px"},children:"Rewards"}),(0,i.jsx)("th",{style:{color:"#667085",fontSize:"12px",fontWeight:500,padding:"12px 24px",textAlign:"right",paddingRight:"73px"},children:"Status"})]})}),(0,i.jsx)("tbody",{children:m.map((e,t)=>(0,i.jsxs)("tr",{className:"".concat("Ongoing"===e.status?"bg-light-red":"bg-white"," hover-row"),style:{borderBottom:"1px solid #EAECF0",cursor:"pointer"},children:[(0,i.jsx)("td",{style:{color:"#101828",fontSize:"14px",padding:"16px 24px"},children:(0,i.jsx)(c(),{href:"/user/dashboard/confirm/".concat(e._id),children:e.tournament.name})}),(0,i.jsx)("td",{style:{color:"#101828",fontSize:"14px",padding:"16px 24px"},children:e.tournament.platform}),(0,i.jsxs)("td",{style:{color:"#101828",fontSize:"14px",padding:"16px 24px",width:"15%"},children:["$",e.tournament.totalPrizePool]}),(0,i.jsx)("td",{style:{padding:"16px 24px",textAlign:"right"},children:(0,i.jsx)("span",{style:{padding:"2px 8px",borderRadius:"16px",fontSize:"12px",fontWeight:500,backgroundColor:"completed"==e.tournament.status?"#ECFDF3":"#FEF3F2",color:"completed"==e.tournament.status?"#027A48":"#B42318"},children:"completed"==e.tournament.status?"✓ Completed":"ongoing"==e.tournament.status?"• Ongoing":"Registration Open"})})]},t))})]})})}}}]);
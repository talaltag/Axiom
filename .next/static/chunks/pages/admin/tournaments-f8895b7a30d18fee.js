(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3275],{10956:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/tournaments",function(){return s(44529)}])},85166:function(e,t,s){"use strict";var n=s(85893);s(67294);var a=s(87168);t.Z=e=>{let{fullscreen:t}=e;return t?(0,n.jsx)("div",{className:"position-fixed top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center bg-white bg-opacity-75",style:{zIndex:1050},children:(0,n.jsx)(a.Z,{color:"warning",style:{width:"3rem",height:"3rem"},children:"Loading..."})}):(0,n.jsx)(a.Z,{color:"warning",size:"sm",className:"ms-2",children:"Loading..."})}},36698:function(e,t,s){"use strict";s.d(t,{Z:function(){return O}});var n=s(85893),a=s(67294),i=s(79862),l=s(84082),r=s(35510),o=s(16987),c=s(46631),d=s(79519),h=s(25062),x=s(58589),m=s(98842),u=s(4683),j=s(38824),g=s(11163),Z=s(45007),p=s(44109),f=s(25675),v=s.n(f),b=s(25471),y=s(38571),C=s(39646),N=s(83220),w=s(81912),k=s(77662),S=s(48903),E=s(78268),z=s(90408),T=s(77424),W=s(27434),_=s(33299),D=s(41664),F=s.n(D);function O(e){var t,s,f,D,O,I;let{children:M}=e,P=(0,g.useRouter)(),R=(0,Z.I0)(),L=(0,_.useSession)(),[A,G]=(0,a.useState)(!0),U=[{text:"Dashboard",icon:(0,n.jsx)(b.Z,{size:20}),path:"/admin/dashboard"},{text:"Tournaments",icon:(0,n.jsx)(y.Z,{size:20}),path:"/admin/tournaments"},{text:"User Management",icon:(0,n.jsx)(C.Z,{size:20}),path:"/admin/users"},{text:"Pay Outs",icon:(0,n.jsx)(N.Z,{size:20}),path:"/admin/payouts"},{text:"Chat",icon:(0,n.jsx)(w.Z,{size:20}),path:"/admin-chat"},{text:"Settings",icon:(0,n.jsx)(k.Z,{size:20}),path:"/admin/settings"}];return(0,n.jsxs)("div",{className:"d-flex",children:[(0,n.jsxs)(i.Z,{vertical:!0,className:"bg-white border-end sidebar ".concat(A?"open":""),style:{width:A?"240px":"64px",height:"100vh",position:"fixed",left:0,top:0,zIndex:1030,transition:"all 0.3s ease-in-out"},children:[(0,n.jsxs)("div",{className:"p-3 d-flex align-items-center mb-2",children:[(0,n.jsxs)("div",{className:"d-flex w-100 align-items-center justify-content-between",children:[A&&(0,n.jsx)(v(),{src:"/axiom-logo.png",alt:"Axiom",width:70,height:45}),(0,n.jsx)(l.Z,{className:"p-0",color:"initial",onClick:()=>G(!A),children:(0,n.jsx)(S.Z,{size:24,style:{transform:A?"rotate(0deg)":"rotate(180deg)",transition:"transform 0.3s ease-in-out"}})})]}),(0,n.jsx)(l.Z,{color:"link",className:"d-lg-none ms-auto p-0",onClick:()=>G(!1),children:(0,n.jsx)(E.Z,{size:24})})]}),U.map(e=>(0,n.jsx)(r.Z,{children:(0,n.jsxs)(F(),{href:e.path,className:"d-flex align-items-center text-decoration-none mb-2 px-3 py-2 ".concat(P.pathname===e.path?"bg-warning text-dark":"text-muted"),style:{justifyContent:A?"flex-start":"center",whiteSpace:"nowrap"},children:[(0,n.jsx)("span",{className:A?"me-2":"",children:e.icon}),A&&e.text]})},e.text))]}),(0,n.jsxs)("div",{className:"flex-grow-1",style:{marginLeft:A?"240px":"64px",transition:"margin 0.3s ease-in-out"},children:[(0,n.jsxs)(o.Z,{color:"white",light:!0,className:"border-bottom  py-2 position-sticky top-0",style:{zIndex:1020},children:[(0,n.jsx)(l.Z,{color:"link",className:"d-lg-none p-0 me-3",onClick:()=>G(!0),children:(0,n.jsx)(z.Z,{size:24})}),(0,n.jsxs)(c.Z,{listClassName:"mb-0",listTag:"div",children:[(0,n.jsx)(d.Z,{href:"#",children:"Dashboard"}),(0,n.jsx)(d.Z,{href:"#",children:"Tournament Name"})]}),(0,n.jsx)(i.Z,{className:"ms-auto d-flex align-items-center",navbar:!0,children:(0,n.jsxs)("div",{className:"d-flex align-items-center me-3",children:[(0,n.jsx)(r.Z,{className:"me-3",children:(0,n.jsxs)(l.Z,{color:"link",className:"position-relative p-0",children:[(0,n.jsx)(T.Z,{size:20,className:"text-muted"}),(0,n.jsx)(h.Z,{color:"danger",pill:!0,className:"position-absolute top-0 end-0 d-flex align-items-center justify-content-center",style:{width:"16px",height:"16px"},children:"2"})]})}),(0,n.jsx)(r.Z,{className:"me-3",children:(0,n.jsxs)(l.Z,{color:"link",className:"position-relative p-0",children:[(0,n.jsx)(w.Z,{size:20,className:"text-muted"}),(0,n.jsx)(h.Z,{color:"danger",pill:!0,className:"position-absolute top-0 end-0 d-flex align-items-center justify-content-center",style:{width:"16px",height:"16px"},children:"4"})]})}),(0,n.jsxs)(x.Z,{dropup:!0,nav:!0,inNavbar:!0,children:[(0,n.jsxs)(m.Z,{nav:!0,children:[(0,n.jsx)(v(),{src:null!==(I=null===(t=L.data)||void 0===t?void 0:t.user.profileImage)&&void 0!==I?I:"/profile-avatar.png",alt:null===(f=L.data)||void 0===f?void 0:null===(s=f.user)||void 0===s?void 0:s.name,width:40,height:40,className:"me-2"}),null===(O=L.data)||void 0===O?void 0:null===(D=O.user)||void 0===D?void 0:D.name," ",(0,n.jsx)(W.Z,{size:16})]}),(0,n.jsxs)(u.Z,{className:"position-absolute",right:!0,children:[(0,n.jsx)(j.Z,{children:"Profile"}),(0,n.jsx)(j.Z,{children:"Settings"}),(0,n.jsx)(j.Z,{divider:!0}),(0,n.jsx)(j.Z,{onClick:()=>{R((0,p.kS)()),(0,_.signOut)({redirect:!1}).then(()=>P.push("/auth/login"))},children:"Logout"})]})]})]})})]}),(0,n.jsx)("main",{className:"bg-light min-vh-100",children:M})]})]})}},44529:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return S}});var n=s(85893),a=s(67294),i=s(11163),l=s(36698),r=s(9729),o=s(21485),c=s(84677),d=s(25026),h=s(76592),x=s(70360),m=s(46577),u=s(8863),j=s(19827),g=s(81873),Z=s(45083),p=s(65408),f=s(33453),v=s(92365),b=s(40110),y=s(26541),C=s(6897),N=s(94143),w=s(96727),k=s(85166);function S(){let e=(0,i.useRouter)(),[t,s]=(0,a.useState)(1),[S,E]=(0,a.useState)("10"),[z,T]=(0,a.useState)([]),[W,_]=(0,a.useState)(!1),[D,F]=(0,a.useState)(!1),[O,I]=(0,a.useState)(null),[M,P]=(0,a.useState)({name:"",game:"",gameMode:"",platform:"",time:"",status:""}),[R,L]=(0,a.useState)(!0);(0,a.useEffect)(()=>{A()},[]);let A=async()=>{L(!0);try{let e=await fetch("/api/tournaments"),t=await e.json();t.success&&T(t.data)}catch(e){console.error("Error fetching tournaments:",e)}finally{L(!1)}},G=async()=>{try{let e=await fetch("/api/tournaments?id=".concat(O._id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(M)});(await e.json()).success&&(_(!1),A())}catch(e){console.error("Error updating tournament:",e)}},U=async()=>{try{let e=await fetch("/api/tournaments?id=".concat(O._id),{method:"DELETE"});(await e.json()).success&&(F(!1),A())}catch(e){console.error("Error deleting tournament:",e)}},X=e=>{switch(e){case"Completed":default:return{bg:"#E8F5E9",color:"#2E7D32"};case"Registration Open":return{bg:"#FFF8E1",color:"#F57C00"};case"Ongoing":return{bg:"#FFF4E5",color:"#ED6C02"}}};return(0,n.jsx)(l.Z,{children:(0,n.jsxs)(r.Z,{sx:{p:3,bgcolor:"#fff",borderRadius:2},children:[R&&(0,n.jsx)(k.Z,{fullscreen:!0})," ",(0,n.jsxs)(r.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:4},children:[(0,n.jsx)(o.Z,{variant:"h6",sx:{fontWeight:500},children:"Tournament Management"}),(0,n.jsx)(c.Z,{variant:"contained",onClick:()=>e.push("/admin/create-tournament"),sx:{bgcolor:"#F8B602",color:"#000","&:hover":{bgcolor:"#e6a800"},textTransform:"none",px:3},children:"+ Create"})]}),(0,n.jsx)(d.Z,{sx:{boxShadow:"none"},children:(0,n.jsxs)(h.Z,{children:[(0,n.jsx)(x.Z,{children:(0,n.jsxs)(m.Z,{sx:{bgcolor:"#F8F9FA"},children:[(0,n.jsx)(u.Z,{sx:{color:"#6C757D",fontWeight:500},children:"T-ID"}),(0,n.jsx)(u.Z,{sx:{color:"#6C757D",fontWeight:500},children:"Tournament Name"}),(0,n.jsx)(u.Z,{sx:{color:"#6C757D",fontWeight:500},children:"Game"}),(0,n.jsx)(u.Z,{sx:{color:"#6C757D",fontWeight:500},children:"Mode"}),(0,n.jsx)(u.Z,{sx:{color:"#6C757D",fontWeight:500},children:"Time"}),(0,n.jsx)(u.Z,{sx:{color:"#6C757D",fontWeight:500},children:"Platform"}),(0,n.jsx)(u.Z,{sx:{color:"#6C757D",fontWeight:500},children:"Status"})]})}),(0,n.jsx)(j.Z,{children:z.map(e=>(0,n.jsxs)(m.Z,{sx:{"&:nth-of-type(even)":{bgcolor:"#F8F9FA"}},children:[(0,n.jsx)(u.Z,{children:e._id}),(0,n.jsx)(u.Z,{sx:{color:"#000000",fontWeight:500},children:e.name}),(0,n.jsx)(u.Z,{children:e.game}),(0,n.jsx)(u.Z,{children:e.gameMode}),(0,n.jsxs)(u.Z,{children:[e.date,"\xa0",e.time," - ",e.end]}),(0,n.jsx)(u.Z,{children:e.platform}),(0,n.jsx)(u.Z,{children:(0,n.jsx)(g.Z,{label:e.status,size:"small",sx:{bgcolor:X(e.status).bg,color:X(e.status).color,borderRadius:"4px",fontWeight:500}})})]},e._id))})]})}),(0,n.jsxs)(r.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mt:3},children:[(0,n.jsxs)(r.Z,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,n.jsx)(o.Z,{variant:"body2",color:"text.secondary",children:"Items per page"}),(0,n.jsxs)(Z.Z,{value:S,onChange:e=>E(e.target.value),size:"small",sx:{minWidth:80},children:[(0,n.jsx)(p.Z,{value:10,children:"10"}),(0,n.jsx)(p.Z,{value:20,children:"20"}),(0,n.jsx)(p.Z,{value:30,children:"30"})]})]}),(0,n.jsxs)(o.Z,{variant:"body2",color:"text.secondary",children:["1-",S," of ",z.length," items"]})]}),(0,n.jsxs)(f.Z,{open:W,onClose:()=>_(!1),children:[(0,n.jsx)(v.Z,{children:"Edit Tournament"}),(0,n.jsx)(b.Z,{children:(0,n.jsxs)(r.Z,{sx:{mt:2},children:[(0,n.jsx)(y.Z,{fullWidth:!0,label:"Tournament Name",value:M.name,onChange:e=>P({...M,name:e.target.value}),sx:{mb:2}}),(0,n.jsx)(y.Z,{fullWidth:!0,label:"Game",value:M.game,onChange:e=>P({...M,game:e.target.value}),sx:{mb:2}}),(0,n.jsx)(y.Z,{fullWidth:!0,label:"Game Mode",value:M.gameMode,onChange:e=>P({...M,gameMode:e.target.value}),sx:{mb:2}}),(0,n.jsx)(y.Z,{fullWidth:!0,label:"Platform",value:M.platform,onChange:e=>P({...M,platform:e.target.value}),sx:{mb:2}}),(0,n.jsx)(y.Z,{fullWidth:!0,label:"Time",value:M.time,onChange:e=>P({...M,time:e.target.value}),sx:{mb:2}}),(0,n.jsxs)(C.Z,{fullWidth:!0,children:[(0,n.jsx)(N.Z,{children:"Status"}),(0,n.jsxs)(Z.Z,{value:M.status,label:"Status",onChange:e=>P({...M,status:e.target.value}),children:[(0,n.jsx)(p.Z,{value:"Registration Open",children:"Registration Open"}),(0,n.jsx)(p.Z,{value:"Ongoing",children:"Ongoing"}),(0,n.jsx)(p.Z,{value:"Completed",children:"Completed"})]})]})]})}),(0,n.jsxs)(w.Z,{children:[(0,n.jsx)(c.Z,{onClick:()=>_(!1),children:"Cancel"}),(0,n.jsx)(c.Z,{onClick:G,variant:"contained",children:"Save Changes"})]})]}),(0,n.jsxs)(f.Z,{open:D,onClose:()=>F(!1),children:[(0,n.jsx)(v.Z,{children:"Delete Tournament"}),(0,n.jsx)(b.Z,{children:"Are you sure you want to delete this tournament? This action cannot be undone."}),(0,n.jsxs)(w.Z,{children:[(0,n.jsx)(c.Z,{onClick:()=>F(!1),children:"Cancel"}),(0,n.jsx)(c.Z,{onClick:U,color:"error",variant:"contained",children:"Delete"})]})]})]})})}}},function(e){e.O(0,[9594,1664,5714,8662,7770,7614,1831,3881,2888,9774,179],function(){return e(e.s=10956)}),_N_E=e.O()}]);
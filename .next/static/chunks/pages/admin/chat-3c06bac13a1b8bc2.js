(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9726],{92565:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/chat",function(){return t(38357)}])},36698:function(e,s,t){"use strict";t.d(s,{Z:function(){return A}});var i=t(85893),n=t(67294),a=t(79862),l=t(84082),r=t(35510),c=t(16987),o=t(46631),d=t(79519),h=t(25062),x=t(58589),m=t(98842),u=t(4683),j=t(38824),p=t(11163),g=t(45007),Z=t(44109),f=t(25675),v=t.n(f),N=t(25471),b=t(38571),w=t(39646),y=t(83220),k=t(81912),_=t(77662),z=t(48903),C=t(78268),S=t(90408),P=t(77424),E=t(27434),I=t(33299),T=t(41664),O=t.n(T);function A(e){var s,t,f,T,A,D;let{children:L}=e,M=(0,p.useRouter)(),R=(0,g.I0)(),U=(0,I.useSession)(),[X,G]=(0,n.useState)(!0),q=[{text:"Dashboard",icon:(0,i.jsx)(N.Z,{size:20}),path:"/admin/dashboard"},{text:"Tournaments",icon:(0,i.jsx)(b.Z,{size:20}),path:"/admin/tournaments"},{text:"User Management",icon:(0,i.jsx)(w.Z,{size:20}),path:"/admin/users"},{text:"Pay Outs",icon:(0,i.jsx)(y.Z,{size:20}),path:"/admin/payouts"},{text:"Chat",icon:(0,i.jsx)(k.Z,{size:20}),path:"/admin-chat"},{text:"Settings",icon:(0,i.jsx)(_.Z,{size:20}),path:"/admin/settings"}];return(0,i.jsxs)("div",{className:"d-flex",children:[(0,i.jsxs)(a.Z,{vertical:!0,className:"bg-white border-end sidebar ".concat(X?"open":""),style:{width:X?"240px":"64px",height:"100vh",position:"fixed",left:0,top:0,zIndex:1030,transition:"all 0.3s ease-in-out"},children:[(0,i.jsxs)("div",{className:"p-3 d-flex align-items-center mb-2",children:[(0,i.jsxs)("div",{className:"d-flex w-100 align-items-center justify-content-between",children:[X&&(0,i.jsx)(v(),{src:"/axiom-logo.png",alt:"Axiom",width:70,height:45}),(0,i.jsx)(l.Z,{className:"p-0",color:"initial",onClick:()=>G(!X),children:(0,i.jsx)(z.Z,{size:24,style:{transform:X?"rotate(0deg)":"rotate(180deg)",transition:"transform 0.3s ease-in-out"}})})]}),(0,i.jsx)(l.Z,{color:"link",className:"d-lg-none ms-auto p-0",onClick:()=>G(!1),children:(0,i.jsx)(C.Z,{size:24})})]}),q.map(e=>(0,i.jsx)(r.Z,{children:(0,i.jsxs)(O(),{href:e.path,className:"d-flex align-items-center text-decoration-none mb-2 px-3 py-2 ".concat(M.pathname===e.path?"bg-warning text-dark":"text-muted"),style:{justifyContent:X?"flex-start":"center",whiteSpace:"nowrap"},children:[(0,i.jsx)("span",{className:X?"me-2":"",children:e.icon}),X&&e.text]})},e.text))]}),(0,i.jsxs)("div",{className:"flex-grow-1",style:{marginLeft:X?"240px":"64px",transition:"margin 0.3s ease-in-out"},children:[(0,i.jsxs)(c.Z,{color:"white",light:!0,className:"border-bottom  py-2 position-sticky top-0",style:{zIndex:1020},children:[(0,i.jsx)(l.Z,{color:"link",className:"d-lg-none p-0 me-3",onClick:()=>G(!0),children:(0,i.jsx)(S.Z,{size:24})}),(0,i.jsxs)(o.Z,{listClassName:"mb-0",listTag:"div",children:[(0,i.jsx)(d.Z,{href:"#",children:"Dashboard"}),(0,i.jsx)(d.Z,{href:"#",children:"Tournament Name"})]}),(0,i.jsx)(a.Z,{className:"ms-auto d-flex align-items-center",navbar:!0,children:(0,i.jsxs)("div",{className:"d-flex align-items-center me-3",children:[(0,i.jsx)(r.Z,{className:"me-3",children:(0,i.jsxs)(l.Z,{color:"link",className:"position-relative p-0",children:[(0,i.jsx)(P.Z,{size:20,className:"text-muted"}),(0,i.jsx)(h.Z,{color:"danger",pill:!0,className:"position-absolute top-0 end-0 d-flex align-items-center justify-content-center",style:{width:"16px",height:"16px"},children:"2"})]})}),(0,i.jsx)(r.Z,{className:"me-3",children:(0,i.jsxs)(l.Z,{color:"link",className:"position-relative p-0",children:[(0,i.jsx)(k.Z,{size:20,className:"text-muted"}),(0,i.jsx)(h.Z,{color:"danger",pill:!0,className:"position-absolute top-0 end-0 d-flex align-items-center justify-content-center",style:{width:"16px",height:"16px"},children:"4"})]})}),(0,i.jsxs)(x.Z,{dropup:!0,nav:!0,inNavbar:!0,children:[(0,i.jsxs)(m.Z,{nav:!0,children:[(0,i.jsx)(v(),{src:null!==(D=null===(s=U.data)||void 0===s?void 0:s.user.profileImage)&&void 0!==D?D:"/profile-avatar.png",alt:null===(f=U.data)||void 0===f?void 0:null===(t=f.user)||void 0===t?void 0:t.name,width:40,height:40,className:"me-2"}),null===(A=U.data)||void 0===A?void 0:null===(T=A.user)||void 0===T?void 0:T.name," ",(0,i.jsx)(E.Z,{size:16})]}),(0,i.jsxs)(u.Z,{className:"position-absolute",right:!0,children:[(0,i.jsx)(j.Z,{children:"Profile"}),(0,i.jsx)(j.Z,{children:"Settings"}),(0,i.jsx)(j.Z,{divider:!0}),(0,i.jsx)(j.Z,{onClick:()=>{R((0,Z.kS)()),(0,I.signOut)({redirect:!1}).then(()=>M.push("/auth/login"))},children:"Logout"})]})]})]})})]}),(0,i.jsx)("main",{className:"bg-light min-vh-100",children:L})]})]})}},38357:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return g}});var i=t(85893),n=t(67294),a=t(9729),l=t(21485),r=t(68573),c=t(31754),o=t(47407),d=t(85770),h=t(87590),x=t(55895),m=t(32200),u=t(36698),j=t(58339),p=t(39332);function g(){let[e,s]=(0,n.useState)([]),[t,g]=(0,n.useState)(null),[Z,f]=(0,n.useState)(null),v=(0,p.useRouter)();return(0,n.useEffect)(()=>{let e=async()=>{try{let e=await fetch("/api/users");if(e.ok){let t=await e.json();s(t.data)}}catch(e){console.error("Error fetching users:",e)}};(()=>{if(!localStorage.getItem("adminAuth")){v.push("/auth/login");return}f({_id:"admin",name:"Admin"})})(),e()},[]),(0,i.jsx)(u.Z,{children:(0,i.jsxs)(a.Z,{sx:{p:3},children:[(0,i.jsx)(l.Z,{variant:"h5",sx:{mb:3},children:"Chat Management"}),(0,i.jsx)(a.Z,{sx:{flexGrow:1,height:"calc(100vh - 200px)"},children:(0,i.jsxs)(r.ZP,{container:!0,spacing:2,sx:{height:"100%"},children:[(0,i.jsx)(r.ZP,{item:!0,xs:3,children:(0,i.jsx)(c.Z,{sx:{height:"100%",overflow:"auto"},children:(0,i.jsx)(o.Z,{children:e&&e.map(e=>(0,i.jsxs)(d.ZP,{button:!0,selected:(null==t?void 0:t._id)===e._id,onClick:()=>g(e),children:[(0,i.jsx)(h.Z,{children:(0,i.jsx)(x.Z,{src:e.profileImage})}),(0,i.jsx)(m.Z,{primary:e.name})]},e._id))})})}),(0,i.jsx)(r.ZP,{item:!0,xs:9,children:(0,i.jsx)(c.Z,{sx:{height:"100%"},children:t&&Z?(0,i.jsx)(j.Z,{currentUser:Z,receiver:t}):(0,i.jsx)(a.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",color:"text.secondary"},children:"Select a user to start chatting"})})})]})})]})})}}},function(e){e.O(0,[4885,9594,1664,5714,8662,7770,7614,6050,2191,1509,9350,8339,2888,9774,179],function(){return e(e.s=92565)}),_N_E=e.O()}]);
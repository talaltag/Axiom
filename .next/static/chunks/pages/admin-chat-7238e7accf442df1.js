(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9878],{55801:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin-chat",function(){return s(77011)}])},36698:function(e,t,s){"use strict";s.d(t,{Z:function(){return P}});var i=s(85893),n=s(67294),a=s(79862),r=s(84082),l=s(35510),c=s(16987),o=s(46631),d=s(79519),m=s(25062),h=s(58589),x=s(98842),u=s(4683),p=s(38824),Z=s(11163),j=s(45007),f=s(44109),v=s(25675),y=s.n(v),g=s(25471),N=s(38571),b=s(39646),w=s(83220),k=s(81912),z=s(77662),C=s(48903),_=s(78268),S=s(90408),I=s(77424),T=s(27434),E=s(33299),L=s(41664),M=s.n(L);function P(e){var t,s,v,L,P,V;let{children:A}=e,O=(0,Z.useRouter)(),H=(0,j.I0)(),R=(0,E.useSession)(),[B,D]=(0,n.useState)(!0),F=[{text:"Dashboard",icon:(0,i.jsx)(g.Z,{size:20}),path:"/admin/dashboard"},{text:"Tournaments",icon:(0,i.jsx)(N.Z,{size:20}),path:"/admin/tournaments"},{text:"User Management",icon:(0,i.jsx)(b.Z,{size:20}),path:"/admin/users"},{text:"Pay Outs",icon:(0,i.jsx)(w.Z,{size:20}),path:"/admin/payouts"},{text:"Chat",icon:(0,i.jsx)(k.Z,{size:20}),path:"/admin-chat"},{text:"Settings",icon:(0,i.jsx)(z.Z,{size:20}),path:"/admin/settings"}];return(0,i.jsxs)("div",{className:"d-flex",children:[(0,i.jsxs)(a.Z,{vertical:!0,className:"bg-white border-end sidebar ".concat(B?"open":""),style:{width:B?"240px":"64px",height:"100vh",position:"fixed",left:0,top:0,zIndex:1030,transition:"all 0.3s ease-in-out"},children:[(0,i.jsxs)("div",{className:"p-3 d-flex align-items-center mb-2",children:[(0,i.jsxs)("div",{className:"d-flex w-100 align-items-center justify-content-between",children:[B&&(0,i.jsx)(y(),{src:"/axiom-logo.png",alt:"Axiom",width:70,height:45}),(0,i.jsx)(r.Z,{className:"p-0",color:"initial",onClick:()=>D(!B),children:(0,i.jsx)(C.Z,{size:24,style:{transform:B?"rotate(0deg)":"rotate(180deg)",transition:"transform 0.3s ease-in-out"}})})]}),(0,i.jsx)(r.Z,{color:"link",className:"d-lg-none ms-auto p-0",onClick:()=>D(!1),children:(0,i.jsx)(_.Z,{size:24})})]}),F.map(e=>(0,i.jsx)(l.Z,{children:(0,i.jsxs)(M(),{href:e.path,className:"d-flex align-items-center text-decoration-none mb-2 px-3 py-2 ".concat(O.pathname===e.path?"bg-warning text-dark":"text-muted"),style:{justifyContent:B?"flex-start":"center",whiteSpace:"nowrap"},children:[(0,i.jsx)("span",{className:B?"me-2":"",children:e.icon}),B&&e.text]})},e.text))]}),(0,i.jsxs)("div",{className:"flex-grow-1",style:{marginLeft:B?"240px":"64px",transition:"margin 0.3s ease-in-out"},children:[(0,i.jsxs)(c.Z,{color:"white",light:!0,className:"border-bottom  py-2 position-sticky top-0",style:{zIndex:1020},children:[(0,i.jsx)(r.Z,{color:"link",className:"d-lg-none p-0 me-3",onClick:()=>D(!0),children:(0,i.jsx)(S.Z,{size:24})}),(0,i.jsxs)(o.Z,{listClassName:"mb-0",listTag:"div",children:[(0,i.jsx)(d.Z,{href:"#",children:"Dashboard"}),(0,i.jsx)(d.Z,{href:"#",children:"Tournament Name"})]}),(0,i.jsx)(a.Z,{className:"ms-auto d-flex align-items-center",navbar:!0,children:(0,i.jsxs)("div",{className:"d-flex align-items-center me-3",children:[(0,i.jsx)(l.Z,{className:"me-3",children:(0,i.jsxs)(r.Z,{color:"link",className:"position-relative p-0",children:[(0,i.jsx)(I.Z,{size:20,className:"text-muted"}),(0,i.jsx)(m.Z,{color:"danger",pill:!0,className:"position-absolute top-0 end-0 d-flex align-items-center justify-content-center",style:{width:"16px",height:"16px"},children:"2"})]})}),(0,i.jsx)(l.Z,{className:"me-3",children:(0,i.jsxs)(r.Z,{color:"link",className:"position-relative p-0",children:[(0,i.jsx)(k.Z,{size:20,className:"text-muted"}),(0,i.jsx)(m.Z,{color:"danger",pill:!0,className:"position-absolute top-0 end-0 d-flex align-items-center justify-content-center",style:{width:"16px",height:"16px"},children:"4"})]})}),(0,i.jsxs)(h.Z,{dropup:!0,nav:!0,inNavbar:!0,children:[(0,i.jsxs)(x.Z,{nav:!0,children:[(0,i.jsx)(y(),{src:null!==(V=null===(t=R.data)||void 0===t?void 0:t.user.profileImage)&&void 0!==V?V:"/profile-avatar.png",alt:null===(v=R.data)||void 0===v?void 0:null===(s=v.user)||void 0===s?void 0:s.name,width:40,height:40,className:"me-2"}),null===(P=R.data)||void 0===P?void 0:null===(L=P.user)||void 0===L?void 0:L.name," ",(0,i.jsx)(T.Z,{size:16})]}),(0,i.jsxs)(u.Z,{className:"position-absolute",right:!0,children:[(0,i.jsx)(p.Z,{children:"Profile"}),(0,i.jsx)(p.Z,{children:"Settings"}),(0,i.jsx)(p.Z,{divider:!0}),(0,i.jsx)(p.Z,{onClick:()=>{H((0,f.kS)()),(0,E.signOut)({redirect:!1}).then(()=>O.push("/auth/login"))},children:"Logout"})]})]})]})})]}),(0,i.jsx)("main",{className:"bg-light min-vh-100",children:A})]})]})}},4642:function(e,t,s){"use strict";var i=s(13077),n=s(85893);t.Z=(0,i.Z)((0,n.jsx)("path",{d:"M20.01 15.38c-1.23 0-2.42-.2-3.53-.56-.35-.12-.74-.03-1.01.24l-1.57 1.97c-2.83-1.35-5.48-3.9-6.89-6.83l1.95-1.66c.27-.28.35-.67.24-1.02-.37-1.11-.56-2.3-.56-3.53 0-.54-.45-.99-.99-.99H4.19C3.65 3 3 3.24 3 3.99 3 13.28 10.73 21 20.01 21c.71 0 .99-.63.99-1.18v-3.45c0-.54-.45-.99-.99-.99"}),"Call")},44725:function(e,t,s){"use strict";var i=s(13077),n=s(85893);t.Z=(0,i.Z)((0,n.jsx)("path",{d:"M12 9c-1.6 0-3.15.25-4.6.72v3.1c0 .39-.23.74-.56.9-.98.49-1.87 1.12-2.66 1.85-.18.18-.43.28-.7.28-.28 0-.53-.11-.71-.29L.29 13.08c-.18-.17-.29-.42-.29-.7s.11-.53.29-.71C3.34 8.78 7.46 7 12 7s8.66 1.78 11.71 4.67c.18.18.29.43.29.71s-.11.53-.29.71l-2.48 2.48c-.18.18-.43.29-.71.29-.27 0-.52-.11-.7-.28-.79-.74-1.69-1.36-2.67-1.85-.33-.16-.56-.5-.56-.9v-3.1C15.15 9.25 13.6 9 12 9"}),"CallEnd")},76184:function(e,t,s){"use strict";var i=s(13077),n=s(85893);t.Z=(0,i.Z)((0,n.jsx)("path",{d:"M19 11h-1.7c0 .74-.16 1.43-.43 2.05l1.23 1.23c.56-.98.9-2.09.9-3.28m-4.02.17c0-.06.02-.11.02-.17V5c0-1.66-1.34-3-3-3S9 3.34 9 5v.18zM4.27 3 3 4.27l6.01 6.01V11c0 1.66 1.33 3 2.99 3 .22 0 .44-.03.65-.08l1.66 1.66c-.71.33-1.5.52-2.31.52-2.76 0-5.3-2.1-5.3-5.1H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c.91-.13 1.77-.45 2.54-.9L19.73 21 21 19.73z"}),"MicOff")},87786:function(e,t,s){"use strict";var i=s(13077),n=s(85893);t.Z=(0,i.Z)((0,n.jsx)("path",{d:"M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11z"}),"Videocam")},18524:function(e,t,s){"use strict";var i=s(13077),n=s(85893);t.Z=(0,i.Z)((0,n.jsx)("path",{d:"m21 6.5-4 4V7c0-.55-.45-1-1-1H9.82L21 17.18zM3.27 2 2 3.27 4.73 6H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.21 0 .39-.08.54-.18L19.73 21 21 19.73z"}),"VideocamOff")},32200:function(e,t,s){"use strict";var i=s(67294),n=s(90512),a=s(94780),r=s(3773),l=s(21485),c=s(74507),o=s(4853),d=s(50375),m=s(33562),h=s(39583),x=s(85893);let u=e=>{let{classes:t,inset:s,primary:i,secondary:n,dense:r}=e;return(0,a.Z)({root:["root",s&&"inset",r&&"dense",i&&n&&"multiline"],primary:["primary"],secondary:["secondary"]},m.L,t)},p=(0,o.ZP)("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:s}=e;return[{["& .".concat(m.Z.primary)]:t.primary},{["& .".concat(m.Z.secondary)]:t.secondary},t.root,s.inset&&t.inset,s.primary&&s.secondary&&t.multiline,s.dense&&t.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[".".concat(r.Z.root,":where(& .").concat(m.Z.primary,")")]:{display:"block"},[".".concat(r.Z.root,":where(& .").concat(m.Z.secondary,")")]:{display:"block"},variants:[{props:e=>{let{ownerState:t}=e;return t.primary&&t.secondary},style:{marginTop:6,marginBottom:6}},{props:e=>{let{ownerState:t}=e;return t.inset},style:{paddingLeft:56}}]}),Z=i.forwardRef(function(e,t){let s=(0,d.i)({props:e,name:"MuiListItemText"}),{children:a,className:r,disableTypography:o=!1,inset:m=!1,primary:Z,primaryTypographyProps:j,secondary:f,secondaryTypographyProps:v,slots:y={},slotProps:g={},...N}=s,{dense:b}=i.useContext(c.Z),w=null!=Z?Z:a,k=f,z={...s,disableTypography:o,inset:m,primary:!!w,secondary:!!k,dense:b},C=u(z),_={slots:y,slotProps:{primary:j,secondary:v,...g}},[S,I]=(0,h.Z)("primary",{className:C.primary,elementType:l.Z,externalForwardedProps:_,ownerState:z}),[T,E]=(0,h.Z)("secondary",{className:C.secondary,elementType:l.Z,externalForwardedProps:_,ownerState:z});return null==w||w.type===l.Z||o||(w=(0,x.jsx)(S,{variant:b?"body2":"body1",component:(null==I?void 0:I.variant)?void 0:"span",...I,children:w})),null==k||k.type===l.Z||o||(k=(0,x.jsx)(T,{variant:"body2",color:"textSecondary",...E,children:k})),(0,x.jsxs)(p,{className:(0,n.Z)(C.root,r),ownerState:z,ref:t,...N,children:[w,k]})});t.Z=Z},77011:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return j}});var i=s(85893),n=s(67294),a=s(9729),r=s(97182),l=s(68573),c=s(31754),o=s(47407),d=s(85770),m=s(87590),h=s(55895),x=s(32200),u=s(36698),p=s(58339),Z=s(33299);function j(){let[e,t]=(0,n.useState)([]),[s,j]=(0,n.useState)(null),[f,v]=(0,n.useState)(null),[y,g]=(0,n.useState)(!0),[N,b]=(0,n.useState)(null),w=(0,Z.useSession)();return((0,n.useEffect)(()=>{w.data&&(async()=>{try{g(!0);let e="Admin"==w.data.user.role?await fetch("/api/users"):await fetch("/api/users/me/friends");if(!e.ok)throw Error("Failed to fetch users");let s=await e.json();"Admin"!==w.data.user.role?t([...s.data,{_id:"67ab624e0bda1b8874d72f2e",name:"Admin ",email:"admin@admin.com",cName:"talal@theappguys.com",role:"Admin"}]):t(s.data.filter(e=>"Admin"!==e.role))}catch(e){console.error("Error fetching users:",e),b("Failed to load users")}finally{g(!1)}})()},[w.data]),(0,n.useEffect)(()=>{var e,t;(null===(t=w.data)||void 0===t?void 0:null===(e=t.user)||void 0===e?void 0:e.id)&&w.data.user.name&&v({_id:w.data.user.id,name:w.data.user.name,profileImage:w.data.user.profileImage})},[w.data]),y)?(0,i.jsx)(u.Z,{children:(0,i.jsx)(a.Z,{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",children:(0,i.jsx)(r.Z,{})})}):N?(0,i.jsx)(u.Z,{children:(0,i.jsx)(a.Z,{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",children:N})}):(0,i.jsx)(u.Z,{children:(0,i.jsx)(a.Z,{sx:{flexGrow:1,height:"calc(100vh - 100px)"},children:(0,i.jsxs)(l.ZP,{container:!0,spacing:2,sx:{height:"100%"},children:[(0,i.jsx)(l.ZP,{item:!0,xs:3,children:(0,i.jsx)(c.Z,{sx:{height:"100%",overflow:"auto"},children:(0,i.jsx)(o.Z,{children:e&&e.map(e=>(0,i.jsxs)(d.ZP,{button:!0,selected:(null==s?void 0:s._id)===e._id,onClick:()=>j(e),children:[(0,i.jsx)(m.Z,{children:(0,i.jsx)(h.Z,{src:e.profileImage})}),(0,i.jsx)(x.Z,{primary:e.name})]},e._id))})})}),(0,i.jsx)(l.ZP,{item:!0,xs:9,children:(0,i.jsx)(c.Z,{sx:{height:"100%"},children:s&&f?(0,i.jsx)(p.Z,{currentUser:f,receiver:s}):(0,i.jsx)(a.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",color:"text.secondary"},children:"Select a user to start chatting"})})})]})})})}}},function(e){e.O(0,[4885,9594,1664,5714,8662,7770,7614,6050,2191,1509,8339,2888,9774,179],function(){return e(e.s=55801)}),_N_E=e.O()}]);